{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/format-library/src/image/index.js"],"names":["Path","SVG","__","Fragment","Component","insertObject","MediaUpload","ALLOWED_MEDIA_TYPES","name","image","title","keywords","object","match","tagName","attributes","className","style","url","alt","edit","arguments","openModal","bind","closeModal","state","modal","setState","props","value","onChange","InserterListItem","id","width","type","Math","min","open"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, Component } from '@wordpress/element';\nimport { insertObject } from '@wordpress/rich-text';\nimport { MediaUpload } from '@wordpress/editor';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst name = 'core/image';\n\nexport const image = {\n\tname,\n\ttitle: __( 'Image' ),\n\tkeywords: [ __( 'photo' ), __( 'media' ) ],\n\tobject: true,\n\tmatch: {\n\t\ttagName: 'img',\n\t},\n\tattributes: {\n\t\tclassName: 'class',\n\t\tstyle: 'style',\n\t\turl: 'src',\n\t\talt: 'alt',\n\t},\n\tedit: class ImageEdit extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\t\t\tthis.openModal = this.openModal.bind( this );\n\t\t\tthis.closeModal = this.closeModal.bind( this );\n\t\t\tthis.state = {\n\t\t\t\tmodal: false,\n\t\t\t};\n\t\t}\n\n\t\topenModal() {\n\t\t\tthis.setState( { modal: true } );\n\t\t}\n\n\t\tcloseModal() {\n\t\t\tthis.setState( { modal: false } );\n\t\t}\n\n\t\trender() {\n\t\t\tconst { value, onChange, InserterListItem } = this.props;\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<InserterListItem\n\t\t\t\t\t\ticon={ <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M4 16h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2zM4 5h10v9H4V5zm14 9v2h4v-2h-4zM2 20h20v-2H2v2zm6.4-8.8L7 9.4 5 12h8l-2.6-3.4-2 2.6z\" /></SVG> }\n\t\t\t\t\t\ttitle={ __( 'Inline Image' ) }\n\t\t\t\t\t\tonClick={ this.openModal }\n\t\t\t\t\t/>\n\t\t\t\t\t{ this.state.modal && <MediaUpload\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tonSelect={ ( { id, url, alt, width } ) => {\n\t\t\t\t\t\t\tthis.closeModal();\n\t\t\t\t\t\t\tonChange( insertObject( value, {\n\t\t\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\tclassName: `wp-image-${ id }`,\n\t\t\t\t\t\t\t\t\tstyle: `width: ${ Math.min( width, 150 ) }px;`,\n\t\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\t\talt,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} ) );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonClose={ this.closeModal }\n\t\t\t\t\t\trender={ ( { open } ) => {\n\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t} }\n\t\t\t\t\t/> }\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t},\n};\n"]}