{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/table/edit.js"],"names":["classnames","Fragment","Component","InspectorControls","BlockControls","RichText","__","PanelBody","ToggleControl","TextControl","Button","Toolbar","DropdownMenu","createTable","updateCellContent","insertRow","deleteRow","insertColumn","deleteColumn","TableEdit","arguments","onCreateTable","bind","onChangeFixedLayout","onChange","onChangeInitialColumnCount","onChangeInitialRowCount","renderSection","getTableControls","onInsertRow","onInsertRowBefore","onInsertRowAfter","onDeleteRow","onInsertColumn","onInsertColumnBefore","onInsertColumnAfter","onDeleteColumn","state","initialRowCount","initialColumnCount","selectedCell","setState","event","preventDefault","setAttributes","props","parseInt","rowCount","columnCount","attributes","hasFixedLayout","content","section","rowIndex","columnIndex","delta","icon","title","isDisabled","onClick","type","rows","length","Tag","map","cells","CellTag","tag","isSelected","cell","classes","createOnFocus","className","head","body","foot","isEmpty","Section"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment, Component } from '@wordpress/element';\nimport { InspectorControls, BlockControls, RichText } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tTextControl,\n\tButton,\n\tToolbar,\n\tDropdownMenu,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport {\n\tcreateTable,\n\tupdateCellContent,\n\tinsertRow,\n\tdeleteRow,\n\tinsertColumn,\n\tdeleteColumn,\n} from './state';\n\nexport default class TableEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onCreateTable = this.onCreateTable.bind( this );\n\t\tthis.onChangeFixedLayout = this.onChangeFixedLayout.bind( this );\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onChangeInitialColumnCount = this.onChangeInitialColumnCount.bind( this );\n\t\tthis.onChangeInitialRowCount = this.onChangeInitialRowCount.bind( this );\n\t\tthis.renderSection = this.renderSection.bind( this );\n\t\tthis.getTableControls = this.getTableControls.bind( this );\n\t\tthis.onInsertRow = this.onInsertRow.bind( this );\n\t\tthis.onInsertRowBefore = this.onInsertRowBefore.bind( this );\n\t\tthis.onInsertRowAfter = this.onInsertRowAfter.bind( this );\n\t\tthis.onDeleteRow = this.onDeleteRow.bind( this );\n\t\tthis.onInsertColumn = this.onInsertColumn.bind( this );\n\t\tthis.onInsertColumnBefore = this.onInsertColumnBefore.bind( this );\n\t\tthis.onInsertColumnAfter = this.onInsertColumnAfter.bind( this );\n\t\tthis.onDeleteColumn = this.onDeleteColumn.bind( this );\n\n\t\tthis.state = {\n\t\t\tinitialRowCount: 2,\n\t\t\tinitialColumnCount: 2,\n\t\t\tselectedCell: null,\n\t\t};\n\t}\n\n\t/**\n\t * Updates the initial column count used for table creation.\n\t *\n\t * @param {number} initialColumnCount New initial column count.\n\t */\n\tonChangeInitialColumnCount( initialColumnCount ) {\n\t\tthis.setState( { initialColumnCount } );\n\t}\n\n\t/**\n\t * Updates the initial row count used for table creation.\n\t *\n\t * @param {number} initialRowCount New initial row count.\n\t */\n\tonChangeInitialRowCount( initialRowCount ) {\n\t\tthis.setState( { initialRowCount } );\n\t}\n\n\t/**\n\t * Creates a table based on dimensions in local state.\n\t *\n\t * @param {Object} event Form submit event.\n\t */\n\tonCreateTable( event ) {\n\t\tevent.preventDefault();\n\n\t\tconst { setAttributes } = this.props;\n\t\tlet { initialRowCount, initialColumnCount } = this.state;\n\n\t\tinitialRowCount = parseInt( initialRowCount, 10 ) || 2;\n\t\tinitialColumnCount = parseInt( initialColumnCount, 10 ) || 2;\n\n\t\tsetAttributes( createTable( {\n\t\t\trowCount: initialRowCount,\n\t\t\tcolumnCount: initialColumnCount,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Toggles whether the table has a fixed layout or not.\n\t */\n\tonChangeFixedLayout() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { hasFixedLayout } = attributes;\n\n\t\tsetAttributes( { hasFixedLayout: ! hasFixedLayout } );\n\t}\n\n\t/**\n\t * Changes the content of the currently selected cell.\n\t *\n\t * @param {Array} content A RichText content value.\n\t */\n\tonChange( content ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, rowIndex, columnIndex } = selectedCell;\n\n\t\tsetAttributes( updateCellContent( attributes, {\n\t\t\tsection,\n\t\t\trowIndex,\n\t\t\tcolumnIndex,\n\t\t\tcontent,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Inserts a row at the currently selected row index, plus `delta`.\n\t *\n\t * @param {number} delta Offset for selected row index at which to insert.\n\t */\n\tonInsertRow( delta ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, rowIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( insertRow( attributes, {\n\t\t\tsection,\n\t\t\trowIndex: rowIndex + delta,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Inserts a row before the currently selected row.\n\t */\n\tonInsertRowBefore() {\n\t\tthis.onInsertRow( 0 );\n\t}\n\n\t/**\n\t * Inserts a row after the currently selected row.\n\t */\n\tonInsertRowAfter() {\n\t\tthis.onInsertRow( 1 );\n\t}\n\n\t/**\n\t * Deletes the currently selected row.\n\t */\n\tonDeleteRow() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, rowIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( deleteRow( attributes, { section, rowIndex } ) );\n\t}\n\n\t/**\n\t * Inserts a column at the currently selected column index, plus `delta`.\n\t *\n\t * @param {number} delta Offset for selected column index at which to insert.\n\t */\n\tonInsertColumn( delta = 0 ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, columnIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( insertColumn( attributes, {\n\t\t\tsection,\n\t\t\tcolumnIndex: columnIndex + delta,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Inserts a column before the currently selected column.\n\t */\n\tonInsertColumnBefore() {\n\t\tthis.onInsertColumn( 0 );\n\t}\n\n\t/**\n\t * Inserts a column after the currently selected column.\n\t */\n\tonInsertColumnAfter() {\n\t\tthis.onInsertColumn( 1 );\n\t}\n\n\t/**\n\t * Deletes the currently selected column.\n\t */\n\tonDeleteColumn() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, columnIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( deleteColumn( attributes, { section, columnIndex } ) );\n\t}\n\n\t/**\n\t * Creates an onFocus handler for a specified cell.\n\t *\n\t * @param {Object} selectedCell Object with `section`, `rowIndex`, and\n\t *                              `columnIndex` properties.\n\t *\n\t * @return {Function} Function to call on focus.\n\t */\n\tcreateOnFocus( selectedCell ) {\n\t\treturn () => {\n\t\t\tthis.setState( { selectedCell } );\n\t\t};\n\t}\n\n\t/**\n\t * Gets the table controls to display in the block toolbar.\n\t *\n\t * @return {Array} Table controls.\n\t */\n\tgetTableControls() {\n\t\tconst { selectedCell } = this.state;\n\n\t\treturn [\n\t\t\t{\n\t\t\t\ticon: 'table-row-before',\n\t\t\t\ttitle: __( 'Add Row Before' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertRowBefore,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-row-after',\n\t\t\t\ttitle: __( 'Add Row After' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertRowAfter,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-row-delete',\n\t\t\t\ttitle: __( 'Delete Row' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onDeleteRow,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-col-before',\n\t\t\t\ttitle: __( 'Add Column Before' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertColumnBefore,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-col-after',\n\t\t\t\ttitle: __( 'Add Column After' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertColumnAfter,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-col-delete',\n\t\t\t\ttitle: __( 'Delete Column' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onDeleteColumn,\n\t\t\t},\n\t\t];\n\t}\n\n\t/**\n\t * Renders a table section.\n\t *\n\t * @param {string} options.type Section type: head, body, or foot.\n\t * @param {Array}  options.rows The rows to render.\n\t *\n\t * @return {Object} React element for the section.\n\t */\n\trenderSection( { type, rows } ) {\n\t\tif ( ! rows.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst Tag = `t${ type }`;\n\t\tconst { selectedCell } = this.state;\n\n\t\treturn (\n\t\t\t<Tag>\n\t\t\t\t{ rows.map( ( { cells }, rowIndex ) =>\n\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t{ cells.map( ( { content, tag: CellTag }, columnIndex ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedCell && (\n\t\t\t\t\t\t\t\ttype === selectedCell.section &&\n\t\t\t\t\t\t\t\trowIndex === selectedCell.rowIndex &&\n\t\t\t\t\t\t\t\tcolumnIndex === selectedCell.columnIndex\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tconst cell = {\n\t\t\t\t\t\t\t\tsection: type,\n\t\t\t\t\t\t\t\trowIndex,\n\t\t\t\t\t\t\t\tcolumnIndex,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst classes = classnames( {\n\t\t\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CellTag key={ columnIndex } className={ classes }>\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-table__cell-content\"\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\t\t\t\t\tunstableOnFocus={ this.createOnFocus( cell ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CellTag>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</tr>\n\t\t\t\t) }\n\t\t\t</Tag>\n\t\t);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { isSelected } = this.props;\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! isSelected && selectedCell ) {\n\t\t\tthis.setState( { selectedCell: null } );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { attributes, className } = this.props;\n\t\tconst { initialRowCount, initialColumnCount } = this.state;\n\t\tconst { hasFixedLayout, head, body, foot } = attributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\t\tconst Section = this.renderSection;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn (\n\t\t\t\t<form onSubmit={ this.onCreateTable }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tlabel={ __( 'Column Count' ) }\n\t\t\t\t\t\tvalue={ initialColumnCount }\n\t\t\t\t\t\tonChange={ this.onChangeInitialColumnCount }\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tlabel={ __( 'Row Count' ) }\n\t\t\t\t\t\tvalue={ initialRowCount }\n\t\t\t\t\t\tonChange={ this.onChangeInitialRowCount }\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button isPrimary type=\"submit\">{ __( 'Create' ) }</Button>\n\t\t\t\t</form>\n\t\t\t);\n\t\t}\n\n\t\tconst classes = classnames( className, {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\ticon=\"editor-table\"\n\t\t\t\t\t\t\tlabel={ __( 'Edit Table' ) }\n\t\t\t\t\t\t\tcontrols={ this.getTableControls() }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Table Settings' ) } className=\"blocks-table-settings\">\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Fixed width table cells' ) }\n\t\t\t\t\t\t\tchecked={ !! hasFixedLayout }\n\t\t\t\t\t\t\tonChange={ this.onChangeFixedLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<table className={ classes }>\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t\t</table>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n"]}