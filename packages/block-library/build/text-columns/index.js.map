{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/text-columns/index.js"],"names":["name","settings","supports","inserter","title","description","icon","category","attributes","content","type","source","selector","query","children","default","columns","width","transforms","to","blocks","transform","className","align","undefined","map","getEditWrapperProps","edit","setAttributes","alternative","plugin","nextWidth","value","index","nextContent","slice","save"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { get, times } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, RangeControl } from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tBlockAlignmentToolbar,\n\tInspectorControls,\n\tRichText,\n} from '@wordpress/editor';\nimport deprecated from '@wordpress/deprecated';\n\nexport const name = 'core/text-columns';\n\nexport const settings = {\n\t// Disable insertion as this block is deprecated and ultimately replaced by the Columns block.\n\tsupports: {\n\t\tinserter: false,\n\t},\n\n\ttitle: __( 'Text Columns (deprecated)' ),\n\n\tdescription: __( 'This block is deprecated. Please use the Columns block instead.' ),\n\n\ticon: 'columns',\n\n\tcategory: 'layout',\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'query',\n\t\t\tselector: 'p',\n\t\t\tquery: {\n\t\t\t\tchildren: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t},\n\t\t\t},\n\t\t\tdefault: [ {}, {} ],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\t\twidth: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/columns' ],\n\t\t\t\ttransform: ( { className, columns, content, width } ) => (\n\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t'core/columns',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talign: ( 'wide' === width || 'full' === width ) ? width : undefined,\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\tcolumns,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent.map( ( { children } ) =>\n\t\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t\t'core/column',\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t[ createBlock( 'core/paragraph', { content: children } ) ]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { width } = attributes;\n\t\tif ( 'wide' === width || 'full' === width ) {\n\t\t\treturn { 'data-align': width };\n\t\t}\n\t},\n\n\tedit: ( ( { attributes, setAttributes, className } ) => {\n\t\tconst { width, content, columns } = attributes;\n\n\t\tdeprecated( 'The Text Columns block', {\n\t\t\talternative: 'the Columns block',\n\t\t\tplugin: 'Gutenberg',\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ width }\n\t\t\t\t\t\tonChange={ ( nextWidth ) => setAttributes( { width: nextWidth } ) }\n\t\t\t\t\t\tcontrols={ [ 'center', 'wide', 'full' ] }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { columns: value } ) }\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div className={ `${ className } align${ width } columns-${ columns }` }>\n\t\t\t\t\t{ times( columns, ( index ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"wp-block-column\" key={ `column-${ index }` }>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\tvalue={ get( content, [ index, 'children' ] ) }\n\t\t\t\t\t\t\t\t\tonChange={ ( nextContent ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\t\t\t\t\t\t...content.slice( 0, index ),\n\t\t\t\t\t\t\t\t\t\t\t\t{ children: nextContent },\n\t\t\t\t\t\t\t\t\t\t\t\t...content.slice( index + 1 ),\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'New Column' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\tsave( { attributes } ) {\n\t\tconst { width, content, columns } = attributes;\n\t\treturn (\n\t\t\t<div className={ `align${ width } columns-${ columns }` }>\n\t\t\t\t{ times( columns, ( index ) =>\n\t\t\t\t\t<div className=\"wp-block-column\" key={ `column-${ index }` }>\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" value={ get( content, [ index, 'children' ] ) } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n};\n"]}