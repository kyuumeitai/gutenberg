{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/image/index.js"],"names":["name","blockAttributes","url","type","alt","default","caption","href","id","align","width","height","linkDestination","linkTarget","deprecatedBlockAttributes","source","selector","attribute","undefined","imageSchema","img","attributes","classes","schema","figure","require","children","a","figcaption","save","image","RichText","isEmpty","settings","title","description","icon","category","keywords","transforms","from","isMatch","node","nodeName","querySelector","transform","className","alignMatches","exec","idMatches","Number","anchorElement","blockType","outerHTML","files","length","indexOf","file","block","tag","shortcode","content","replace","named","parseInt","getEditWrapperProps","edit","deprecated","extraImageProps","figureStyle","maxWidth"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcreateBlock,\n\tgetBlockAttributes,\n\tgetBlockType,\n\tgetPhrasingContentSchema,\n} from '@wordpress/blocks';\nimport { RichText } from '@wordpress/editor';\nimport { createBlobURL } from '@wordpress/blob';\nimport {\n\tPath,\n\tSVG,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/image';\n\nconst blockAttributes = {\n\turl: {\n\t\ttype: 'string',\n\t},\n\talt: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\tcaption: {\n\t\ttype: 'string',\n\t},\n\thref: {\n\t\ttype: 'string',\n\t},\n\tid: {\n\t\ttype: 'number',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n\twidth: {\n\t\ttype: 'number',\n\t},\n\theight: {\n\t\ttype: 'number',\n\t},\n\tlinkDestination: {\n\t\ttype: 'string',\n\t\tdefault: 'none',\n\t},\n\tlinkTarget: {\n\t\ttype: 'string',\n\t},\n};\n\nconst deprecatedBlockAttributes = {\n\t...blockAttributes,\n\turl: {\n\t\t...blockAttributes.url,\n\t\tsource: 'attribute',\n\t\tselector: 'img',\n\t\tattribute: 'src',\n\t},\n\talt: {\n\t\t...blockAttributes.alt,\n\t\tsource: 'attribute',\n\t\tselector: 'img',\n\t\tattribute: 'alt',\n\t},\n\tcaption: {\n\t\t...blockAttributes.caption,\n\t\ttype: undefined,\n\t\tsource: 'html',\n\t\tselector: 'figcaption',\n\t},\n\thref: {\n\t\t...blockAttributes.href,\n\t\tsource: 'attribute',\n\t\tselector: 'figure > a',\n\t\tattribute: 'href',\n\t},\n\tlinkTarget: {\n\t\t...blockAttributes.linkTarget,\n\t\tsource: 'attribute',\n\t\tselector: 'figure > a',\n\t\tattribute: 'target',\n\t},\n};\n\nconst imageSchema = {\n\timg: {\n\t\tattributes: [ 'src', 'alt' ],\n\t\tclasses: [ 'alignleft', 'aligncenter', 'alignright', 'alignnone', /^wp-image-\\d+$/ ],\n\t},\n};\n\nconst schema = {\n\tfigure: {\n\t\trequire: [ 'img' ],\n\t\tchildren: {\n\t\t\t...imageSchema,\n\t\t\ta: {\n\t\t\t\tattributes: [ 'href', 'target' ],\n\t\t\t\tchildren: imageSchema,\n\t\t\t},\n\t\t\tfigcaption: {\n\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t},\n\t\t},\n\t},\n};\n\nfunction save( { attributes } ) {\n\tconst { url, alt, caption, align, href, width, height, id, linkTarget } = attributes;\n\n\tconst classes = classnames( {\n\t\t[ `align${ align }` ]: align,\n\t\t'is-resized': width || height,\n\t} );\n\n\tconst image = (\n\t\t<img\n\t\t\tsrc={ url }\n\t\t\talt={ alt }\n\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\twidth={ width }\n\t\t\theight={ height }\n\t\t/>\n\t);\n\n\tconst figure = (\n\t\t<Fragment>\n\t\t\t{ href ? <a href={ href } target={ linkTarget } rel={ linkTarget === '_blank' ? 'noreferrer noopener' : undefined }>{ image }</a> : image }\n\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t</Fragment>\n\t);\n\n\tif ( 'left' === align || 'right' === align || 'center' === align ) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<figure className={ classes }>\n\t\t\t\t\t{ figure }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<figure className={ classes }>\n\t\t\t{ figure }\n\t\t</figure>\n\t);\n}\n\nexport const settings = {\n\ttitle: __( 'Image' ),\n\n\tdescription: __( 'Insert an image to make a visual statement.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z\" /><Path d=\"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tkeywords: [\n\t\t'img', // \"img\" is not translated as it is intended to reflect the HTML <img> tag.\n\t\t__( 'photo' ),\n\t],\n\n\tattributes: blockAttributes,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => node.nodeName === 'FIGURE' && !! node.querySelector( 'img' ),\n\t\t\t\tschema,\n\t\t\t\ttransform: ( node ) => {\n\t\t\t\t\t// Search both figure and image classes. Alignment could be\n\t\t\t\t\t// set on either. ID is set on the image.\n\t\t\t\t\tconst className = node.className + ' ' + node.querySelector( 'img' ).className;\n\t\t\t\t\tconst alignMatches = /(?:^|\\s)align(left|center|right)(?:$|\\s)/.exec( className );\n\t\t\t\t\tconst align = alignMatches ? alignMatches[ 1 ] : undefined;\n\t\t\t\t\tconst idMatches = /(?:^|\\s)wp-image-(\\d+)(?:$|\\s)/.exec( className );\n\t\t\t\t\tconst id = idMatches ? Number( idMatches[ 1 ] ) : undefined;\n\t\t\t\t\tconst anchorElement = node.querySelector( 'a' );\n\t\t\t\t\tconst linkDestination = anchorElement && anchorElement.href ? 'custom' : undefined;\n\t\t\t\t\tconst href = anchorElement && anchorElement.href ? anchorElement.href : undefined;\n\t\t\t\t\tconst blockType = getBlockType( 'core/image' );\n\t\t\t\t\tconst attributes = getBlockAttributes( blockType, node.outerHTML, { align, id, linkDestination, href } );\n\t\t\t\t\treturn createBlock( 'core/image', attributes );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'image/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// int the image block\n\t\t\t\t\tconst block = createBlock( 'core/image', {\n\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'caption',\n\t\t\t\tattributes: {\n\t\t\t\t\turl: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'src',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t},\n\t\t\t\t\talt: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t},\n\t\t\t\t\tcaption: {\n\t\t\t\t\t\tshortcode: ( attributes, { shortcode } ) => {\n\t\t\t\t\t\t\tconst { content } = shortcode;\n\t\t\t\t\t\t\treturn content.replace( /\\s*<img[^>]*>\\s/, '' );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\thref: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'href',\n\t\t\t\t\t\tselector: 'a',\n\t\t\t\t\t},\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: ( { named: { id } } ) => {\n\t\t\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn parseInt( id.replace( 'attachment_', '' ), 10 );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\talign: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { align = 'alignnone' } } ) => {\n\t\t\t\t\t\t\treturn align.replace( 'align', '' );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align, width } = attributes;\n\t\tif ( 'left' === align || 'center' === align || 'right' === align || 'wide' === align || 'full' === align ) {\n\t\t\treturn { 'data-align': align, 'data-resized': !! width };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave,\n\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: deprecatedBlockAttributes,\n\t\t\tsave,\n\t\t},\n\t\t{\n\t\t\tattributes: deprecatedBlockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { url, alt, caption, align, href, width, height, id } = attributes;\n\n\t\t\t\tconst classes = classnames( {\n\t\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t\t'is-resized': width || height,\n\t\t\t\t} );\n\n\t\t\t\tconst image = (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\twidth={ width }\n\t\t\t\t\t\theight={ height }\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<figure className={ classes }>\n\t\t\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t</figure>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: deprecatedBlockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { url, alt, caption, align, href, width, height, id } = attributes;\n\n\t\t\t\tconst image = (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\twidth={ width }\n\t\t\t\t\t\theight={ height }\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<figure className={ align ? `align${ align }` : null } >\n\t\t\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t</figure>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: deprecatedBlockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { url, alt, caption, align, href, width, height } = attributes;\n\t\t\t\tconst extraImageProps = width || height ? { width, height } : {};\n\t\t\t\tconst image = <img src={ url } alt={ alt } { ...extraImageProps } />;\n\n\t\t\t\tlet figureStyle = {};\n\n\t\t\t\tif ( width ) {\n\t\t\t\t\tfigureStyle = { width };\n\t\t\t\t} else if ( align === 'left' || align === 'right' ) {\n\t\t\t\t\tfigureStyle = { maxWidth: '50%' };\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<figure className={ align ? `align${ align }` : null } style={ figureStyle }>\n\t\t\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t</figure>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n"]}