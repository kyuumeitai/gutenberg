{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/editor/src/components/block-settings-menu/block-mode-toggle.js"],"names":["noop","__","MenuItem","getBlockType","hasBlockSupport","withSelect","withDispatch","compose","BlockModeToggle","blockType","mode","onToggleMode","small","label","undefined","select","clientId","getBlock","getBlockMode","block","name","dispatch","onToggle","toggleBlockMode"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,mBAA9C;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,OAAO,SAASC,eAAT,OAA6E;AAAA,MAAjDC,SAAiD,QAAjDA,SAAiD;AAAA,MAAtCC,IAAsC,QAAtCA,IAAsC;AAAA,MAAhCC,YAAgC,QAAhCA,YAAgC;AAAA,wBAAlBC,KAAkB;AAAA,MAAlBA,KAAkB,2BAAV,KAAU;;AACnF,MAAK,CAAER,eAAe,CAAEK,SAAF,EAAa,MAAb,EAAqB,IAArB,CAAtB,EAAoD;AACnD,WAAO,IAAP;AACA;;AAED,MAAMI,KAAK,GAAGH,IAAI,KAAK,QAAT,GACbT,EAAE,CAAE,cAAF,CADW,GAEbA,EAAE,CAAE,eAAF,CAFH;AAIA,SACC,cAAC,QAAD;AACC,IAAA,SAAS,EAAC,qCADX;AAEC,IAAA,OAAO,EAAGU,YAFX;AAGC,IAAA,IAAI,EAAC,MAHN;AAIC,IAAA,KAAK,EAAGC,KAAK,GAAGC,KAAH,GAAWC;AAJzB,KAMG,CAAEF,KAAF,IAAWC,KANd,CADD;AAUA;AAED,eAAeN,OAAO,CAAE,CACvBF,UAAU,CAAE,UAAEU,MAAF,SAA4B;AAAA,MAAhBC,QAAgB,SAAhBA,QAAgB;;AAAA,gBACJD,MAAM,CAAE,aAAF,CADF;AAAA,MAC/BE,QAD+B,WAC/BA,QAD+B;AAAA,MACrBC,YADqB,WACrBA,YADqB;;AAEvC,MAAMC,KAAK,GAAGF,QAAQ,CAAED,QAAF,CAAtB;AAEA,SAAO;AACNN,IAAAA,IAAI,EAAEQ,YAAY,CAAEF,QAAF,CADZ;AAENP,IAAAA,SAAS,EAAEU,KAAK,GAAGhB,YAAY,CAAEgB,KAAK,CAACC,IAAR,CAAf,GAAgC;AAF1C,GAAP;AAIA,CARS,CADa,EAUvBd,YAAY,CAAE,UAAEe,QAAF;AAAA,6BAAcC,QAAd;AAAA,MAAcA,QAAd,+BAAyBtB,IAAzB;AAAA,MAA+BgB,QAA/B,SAA+BA,QAA/B;AAAA,SAAiD;AAC9DL,IAAAA,YAD8D,0BAC/C;AACdU,MAAAA,QAAQ,CAAE,aAAF,CAAR,CAA0BE,eAA1B,CAA2CP,QAA3C;AACAM,MAAAA,QAAQ;AACR;AAJ6D,GAAjD;AAAA,CAAF,CAVW,CAAF,CAAP,CAgBVd,eAhBU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nexport function BlockModeToggle( { blockType, mode, onToggleMode, small = false } ) {\n\tif ( ! hasBlockSupport( blockType, 'html', true ) ) {\n\t\treturn null;\n\t}\n\n\tconst label = mode === 'visual' ?\n\t\t__( 'Edit as HTML' ) :\n\t\t__( 'Edit visually' );\n\n\treturn (\n\t\t<MenuItem\n\t\t\tclassName=\"editor-block-settings-menu__control\"\n\t\t\tonClick={ onToggleMode }\n\t\t\ticon=\"html\"\n\t\t\tlabel={ small ? label : undefined }\n\t\t>\n\t\t\t{ ! small && label }\n\t\t</MenuItem>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock, getBlockMode } = select( 'core/editor' );\n\t\tconst block = getBlock( clientId );\n\n\t\treturn {\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onToggle = noop, clientId } ) => ( {\n\t\tonToggleMode() {\n\t\t\tdispatch( 'core/editor' ).toggleBlockMode( clientId );\n\t\t\tonToggle();\n\t\t},\n\t} ) ),\n] )( BlockModeToggle );\n"]}