{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/edit-post/src/store/reducer.js"],"names":["DEFAULT_ACTIVE_GENERAL_SIDEBAR","preferences","isGeneralSidebarDismissed","state","action","type","panels","PREFERENCES_DEFAULTS","panelName","enabled","isOpen","opened","features","feature","editorMode","mode","pinnedPluginItems","pluginName","activeGeneralSidebar","name","panel","activeModal","publishSidebarActive","isSavingMetaBoxes","metaBoxLocations","metaBoxesPerLocation","metaBoxes","isSaving","locations"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS } from './defaults';\n\n/**\n * The default active general sidebar: The \"Document\" tab.\n *\n * @type {string}\n */\nexport const DEFAULT_ACTIVE_GENERAL_SIDEBAR = 'edit-post/document';\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object}  state                           Current state.\n * @param {string}  state.mode                      Current editor mode, either\n *                                                  \"visual\" or \"text\".\n * @param {boolean} state.isGeneralSidebarDismissed Whether general sidebar is\n *                                                  dismissed. False by default\n *                                                  or when closing general\n *                                                  sidebar, true when opening\n *                                                  sidebar.\n * @param {boolean} state.isSidebarOpened           Whether the sidebar is\n *                                                  opened or closed.\n * @param {Object}  state.panels                    The state of the different\n *                                                  sidebar panels.\n * @param {Object}  action                          Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const preferences = combineReducers( {\n\tisGeneralSidebarDismissed( state = false, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'OPEN_GENERAL_SIDEBAR':\n\t\t\tcase 'CLOSE_GENERAL_SIDEBAR':\n\t\t\t\treturn action.type === 'CLOSE_GENERAL_SIDEBAR';\n\t\t}\n\n\t\treturn state;\n\t},\n\tpanels( state = PREFERENCES_DEFAULTS.panels, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'TOGGLE_PANEL_ENABLED': {\n\t\t\t\tconst { panelName } = action;\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ panelName ]: {\n\t\t\t\t\t\t...state[ panelName ],\n\t\t\t\t\t\tenabled: ! get( state, [ panelName, 'enabled' ], true ),\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'TOGGLE_PANEL_OPENED': {\n\t\t\t\tconst { panelName } = action;\n\t\t\t\tconst isOpen = state[ panelName ] === true || get( state, [ panelName, 'opened' ], false );\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ panelName ]: {\n\t\t\t\t\t\t...state[ panelName ],\n\t\t\t\t\t\topened: ! isOpen,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t},\n\tfeatures( state = PREFERENCES_DEFAULTS.features, action ) {\n\t\tif ( action.type === 'TOGGLE_FEATURE' ) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.feature ]: ! state[ action.feature ],\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n\teditorMode( state = PREFERENCES_DEFAULTS.editorMode, action ) {\n\t\tif ( action.type === 'SWITCH_MODE' ) {\n\t\t\treturn action.mode;\n\t\t}\n\n\t\treturn state;\n\t},\n\tpinnedPluginItems( state = PREFERENCES_DEFAULTS.pinnedPluginItems, action ) {\n\t\tif ( action.type === 'TOGGLE_PINNED_PLUGIN_ITEM' ) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.pluginName ]: ! get( state, [ action.pluginName ], true ),\n\t\t\t};\n\t\t}\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning the next active general sidebar state. The active general\n * sidebar is a unique name to identify either an editor or plugin sidebar.\n *\n * @param {?string} state  Current state.\n * @param {Object}  action Action object.\n *\n * @return {?string} Updated state.\n */\nexport function activeGeneralSidebar( state = DEFAULT_ACTIVE_GENERAL_SIDEBAR, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_GENERAL_SIDEBAR':\n\t\t\treturn action.name;\n\t}\n\n\treturn state;\n}\n\nexport function panel( state = 'document', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_ACTIVE_PANEL':\n\t\t\treturn action.panel;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for storing the name of the open modal, or null if no modal is open.\n *\n * @param {Object} state  Previous state.\n * @param {Object} action Action object containing the `name` of the modal\n *\n * @return {Object} Updated state\n */\nexport function activeModal( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_MODAL':\n\t\t\treturn action.name;\n\t\tcase 'CLOSE_MODAL':\n\t\t\treturn null;\n\t}\n\n\treturn state;\n}\n\nexport function publishSidebarActive( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_PUBLISH_SIDEBAR':\n\t\t\treturn true;\n\t\tcase 'CLOSE_PUBLISH_SIDEBAR':\n\t\t\treturn false;\n\t\tcase 'TOGGLE_PUBLISH_SIDEBAR':\n\t\t\treturn ! state;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the meta boxes isSaving state.\n * A \"true\" value means the meta boxes saving request is in-flight.\n *\n *\n * @param {boolean}  state   Previous state.\n * @param {Object}   action  Action Object.\n *\n * @return {Object} Updated state.\n */\nexport function isSavingMetaBoxes( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_META_BOX_UPDATES':\n\t\t\treturn true;\n\t\tcase 'META_BOX_UPDATES_SUCCESS':\n\t\t\treturn false;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/**\n * Reducer keeping track of the meta boxes per location.\n *\n * @param {boolean}  state   Previous state.\n * @param {Object}   action  Action Object.\n *\n * @return {Object} Updated state.\n */\nexport function metaBoxLocations( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_META_BOXES_PER_LOCATIONS':\n\t\t\treturn action.metaBoxesPerLocation;\n\t}\n\n\treturn state;\n}\n\nconst metaBoxes = combineReducers( {\n\tisSaving: isSavingMetaBoxes,\n\tlocations: metaBoxLocations,\n} );\n\nexport default combineReducers( {\n\tpreferences,\n\tactiveGeneralSidebar,\n\tpanel,\n\tactiveModal,\n\tpublishSidebarActive,\n\tmetaBoxes,\n} );\n"]}