{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/heading/edit.native.js"],"names":["minHeight","HeadingEdit","props","attributes","setAttributes","mergeBlocks","insertBlocksAfter","level","placeholder","content","tagName","newLevel","Math","max","aztecHeight","event","newParaBlock","before","after","blocks","undefined","Component"],"mappings":";;;;;;;;;AAcA;;;;;;;;;;;;;;AAXA;;AAKA;;AAKA;;AAEA;;AACA;;AAKA;;AArBA;;;;AAKA;;;;AAKA;;;;AAQA;;;AAKA,IAAMA,SAAS,GAAG,EAAlB;;IAEMC,W;;;;;;;;;;;;6BACI;AAAA;;AAAA,wBAMJ,KAAKC,KAND;AAAA,UAEPC,UAFO,eAEPA,UAFO;AAAA,UAGPC,aAHO,eAGPA,aAHO;AAAA,UAIPC,WAJO,eAIPA,WAJO;AAAA,UAKPC,iBALO,eAKPA,iBALO;AAAA,UASPC,KATO,GAYJJ,UAZI,CASPI,KATO;AAAA,UAUPC,WAVO,GAYJL,UAZI,CAUPK,WAVO;AAAA,UAWPC,OAXO,GAYJN,UAZI,CAWPM,OAXO;AAcR,UAAMC,OAAO,GAAG,MAAMH,KAAtB;AAEA,aACC,4BAAC,iBAAD,QACC,4BAAC,uBAAD;AAAgB,QAAA,QAAQ,EAAG,CAA3B;AAA+B,QAAA,QAAQ,EAAG,CAA1C;AAA8C,QAAA,aAAa,EAAGA,KAA9D;AAAsE,QAAA,QAAQ,EAAG,kBAAEI,QAAF;AAAA,iBAAgBP,aAAa,CAAE;AAAEG,YAAAA,KAAK,EAAEI;AAAT,WAAF,CAA7B;AAAA;AAAjF,QADD,EAEC,4BAAC,gBAAD;AACC,QAAA,OAAO,EAAGD,OADX;AAEC,QAAA,KAAK,EAAGD,OAFT;AAGC,QAAA,KAAK,EAAG;AACPT,UAAAA,SAAS,EAAEY,IAAI,CAACC,GAAL,CAAUb,SAAV,EAAqB,OAAOG,UAAU,CAACW,WAAlB,KAAkC,WAAlC,GAAgD,CAAhD,GAAoDX,UAAU,CAACW,WAApF;AADJ,SAHT;AAMC,QAAA,QAAQ,EAAG,kBAAEC,KAAF,EAAa;AACvB;AACA,cAAMC,YAAY,GAAG,wDAAoCT,KAApC,mBAAoDG,OAApD,cAAiEK,KAAK,CAACN,OAAvE,eAAqFC,OAArF,4BAAwH,CAAxH,CAArB;AACAN,UAAAA,aAAa,iCACT,KAAI,CAACF,KAAL,CAAWC,UADF;AAEZM,YAAAA,OAAO,EAAEO,YAAY,CAACb,UAAb,CAAwBM;AAFrB,aAAb;AAIA,SAbF;AAcC,QAAA,OAAO,EAAGJ,WAdX;AAeC,QAAA,OAAO,EACNC,iBAAiB,GAChB,UAAEW,MAAF,EAAUC,KAAV,EAAgC;AAC/Bd,UAAAA,aAAa,CAAE;AAAEK,YAAAA,OAAO,EAAEQ;AAAX,WAAF,CAAb;;AAD+B,4CAAZE,MAAY;AAAZA,YAAAA,MAAY;AAAA;;AAE/Bb,UAAAA,iBAAiB,CACba,MADa,SAEhB,yBAAa,gBAAb,EAA+B;AAAEV,YAAAA,OAAO,EAAES;AAAX,WAA/B,CAFgB,GAAjB;AAIA,SAPe,GAQhBE,SAxBH;AA0BC,QAAA,mBAAmB,EAAG,6BAAEL,KAAF,EAAa;AAClCX,UAAAA,aAAa,CAAE;AAAEU,YAAAA,WAAW,EAAEC,KAAK,CAACD;AAArB,WAAF,CAAb;AACA,SA5BF;AA6BC,QAAA,WAAW,EAAGN,WAAW,IAAI,cAAI,gBAAJ;AA7B9B,QAFD,CADD;AAoCA;;;EArDwBa,kB;;eAuDXpB,W","sourcesContent":["/**\n * Internal dependencies\n */\nimport HeadingToolbar from './heading-toolbar';\n\n/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { RichText } from '@wordpress/editor';\nimport { parse, createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\nconst minHeight = 50;\n\nclass HeadingEdit extends Component {\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tmergeBlocks,\n\t\t\tinsertBlocksAfter,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tlevel,\n\t\t\tplaceholder,\n\t\t\tcontent,\n\t\t} = attributes;\n\n\t\tconst tagName = 'h' + level;\n\n\t\treturn (\n\t\t\t<View>\n\t\t\t\t<HeadingToolbar minLevel={ 2 } maxLevel={ 5 } selectedLevel={ level } onChange={ ( newLevel ) => setAttributes( { level: newLevel } ) } />\n\t\t\t\t<RichText\n\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tminHeight: Math.max( minHeight, typeof attributes.aztecHeight === 'undefined' ? 0 : attributes.aztecHeight ),\n\t\t\t\t\t} }\n\t\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\t\t// Create a React Tree from the new HTML\n\t\t\t\t\t\tconst newParaBlock = parse( `<!-- wp:heading {\"level\":${ level }} --><${ tagName }>${ event.content }</${ tagName }><!-- /wp:heading -->` )[ 0 ];\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t...this.props.attributes,\n\t\t\t\t\t\t\tcontent: newParaBlock.attributes.content,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\tonSplit={\n\t\t\t\t\t\tinsertBlocksAfter ?\n\t\t\t\t\t\t\t( before, after, ...blocks ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { content: before } );\n\t\t\t\t\t\t\t\tinsertBlocksAfter( [\n\t\t\t\t\t\t\t\t\t...blocks,\n\t\t\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', { content: after } ),\n\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\tundefined\n\t\t\t\t\t}\n\t\t\t\t\tonContentSizeChange={ ( event ) => {\n\t\t\t\t\t\tsetAttributes( { aztecHeight: event.aztecHeight } );\n\t\t\t\t\t} }\n\t\t\t\t\tplaceholder={ placeholder || __( 'Write headingâ€¦' ) }\n\t\t\t\t/>\n\t\t\t</View>\n\t\t);\n\t}\n}\nexport default HeadingEdit;\n"]}