{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/format-library/src/link/inline.js"],"names":["sprintf","__","Component","createRef","ExternalLink","IconButton","ToggleControl","withSpokenMessages","ESCAPE","LEFT","RIGHT","UP","DOWN","BACKSPACE","ENTER","prependHTTP","safeDecodeURI","filterURLForDisplay","create","insert","isCollapsed","applyFormat","URLInput","URLPopover","PositionedAtSelection","stopKeyPropagation","event","stopPropagation","createLinkFormat","url","opensInNewWindow","text","format","type","attributes","label","trim","target","rel","isShowingInput","props","state","addingLink","editLink","LinkEditor","value","onChangeInputValue","onKeyDown","submitLink","autocompleteRef","LinkViewer","InlineLinkUI","arguments","bind","setLinkTarget","onClickOutside","resetState","keyCode","indexOf","inputValue","setState","activeAttributes","onChange","preventDefault","isActive","speak","toInsert","length","autocompleteElement","current","contains","stopAddingLink","showInput","start","end"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport {\n\tExternalLink,\n\tIconButton,\n\tToggleControl,\n\twithSpokenMessages,\n} from '@wordpress/components';\nimport { ESCAPE, LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\nimport { prependHTTP, safeDecodeURI, filterURLForDisplay } from '@wordpress/url';\nimport {\n\tcreate,\n\tinsert,\n\tisCollapsed,\n\tapplyFormat,\n} from '@wordpress/rich-text';\nimport { URLInput, URLPopover } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport PositionedAtSelection from './positioned-at-selection';\n\nconst stopKeyPropagation = ( event ) => event.stopPropagation();\n\n/**\n * Generates the format object that will be applied to the link text.\n *\n * @param {string}  url              The href of the link.\n * @param {boolean} opensInNewWindow Whether this link will open in a new window.\n * @param {Object}  text             The text that is being hyperlinked.\n *\n * @return {Object} The final format object.\n */\nfunction createLinkFormat( { url, opensInNewWindow, text } ) {\n\tconst format = {\n\t\ttype: 'core/link',\n\t\tattributes: {\n\t\t\turl,\n\t\t},\n\t};\n\n\tif ( opensInNewWindow ) {\n\t\t// translators: accessibility label for external links, where the argument is the link text\n\t\tconst label = sprintf( __( '%s (opens in a new tab)' ), text ).trim();\n\n\t\tformat.attributes.target = '_blank';\n\t\tformat.attributes.rel = 'noreferrer noopener';\n\t\tformat.attributes[ 'aria-label' ] = label;\n\t}\n\n\treturn format;\n}\n\nfunction isShowingInput( props, state ) {\n\treturn props.addingLink || state.editLink;\n}\n\nconst LinkEditor = ( { value, onChangeInputValue, onKeyDown, submitLink, autocompleteRef } ) => (\n\t// Disable reason: KeyPress must be suppressed so the block doesn't hide the toolbar\n\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\t<form\n\t\tclassName=\"editor-format-toolbar__link-container-content\"\n\t\tonKeyPress={ stopKeyPropagation }\n\t\tonKeyDown={ onKeyDown }\n\t\tonSubmit={ submitLink }\n\t>\n\t\t<URLInput\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChangeInputValue }\n\t\t\tautocompleteRef={ autocompleteRef }\n\t\t/>\n\t\t<IconButton icon=\"editor-break\" label={ __( 'Apply' ) } type=\"submit\" />\n\t</form>\n\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n);\n\nconst LinkViewer = ( { url, editLink } ) => (\n\t// Disable reason: KeyPress must be suppressed so the block doesn't hide the toolbar\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t<div\n\t\tclassName=\"editor-format-toolbar__link-container-content\"\n\t\tonKeyPress={ stopKeyPropagation }\n\t>\n\t\t<ExternalLink\n\t\t\tclassName=\"editor-format-toolbar__link-container-value\"\n\t\t\thref={ url }\n\t\t>\n\t\t\t{ filterURLForDisplay( safeDecodeURI( url ) ) }\n\t\t</ExternalLink>\n\t\t<IconButton icon=\"edit\" label={ __( 'Edit' ) } onClick={ editLink } />\n\t</div>\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n);\n\nclass InlineLinkUI extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.editLink = this.editLink.bind( this );\n\t\tthis.submitLink = this.submitLink.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.onChangeInputValue = this.onChangeInputValue.bind( this );\n\t\tthis.setLinkTarget = this.setLinkTarget.bind( this );\n\t\tthis.onClickOutside = this.onClickOutside.bind( this );\n\t\tthis.resetState = this.resetState.bind( this );\n\t\tthis.autocompleteRef = createRef();\n\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps( props, state ) {\n\t\tconst { activeAttributes: { url, target } } = props;\n\t\tconst opensInNewWindow = target === '_blank';\n\n\t\tif ( ! isShowingInput( props, state ) ) {\n\t\t\tif ( url !== state.inputValue ) {\n\t\t\t\treturn { inputValue: url };\n\t\t\t}\n\n\t\t\tif ( opensInNewWindow !== state.opensInNewWindow ) {\n\t\t\t\treturn { opensInNewWindow };\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonKeyDown( event ) {\n\t\tif ( event.keyCode === ESCAPE ) {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.resetState();\n\t\t}\n\n\t\tif ( [ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf( event.keyCode ) > -1 ) {\n\t\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\tonChangeInputValue( inputValue ) {\n\t\tthis.setState( { inputValue } );\n\t}\n\n\tsetLinkTarget( opensInNewWindow ) {\n\t\tconst { activeAttributes: { url }, value, onChange } = this.props;\n\n\t\tthis.setState( { opensInNewWindow } );\n\n\t\t// Apply now if URL is not being edited.\n\t\tif ( ! isShowingInput( this.props, this.state ) ) {\n\t\t\tonChange( applyFormat( value, createLinkFormat( { url, opensInNewWindow, text: value.text } ) ) );\n\t\t}\n\t}\n\n\teditLink( event ) {\n\t\tthis.setState( { editLink: true } );\n\t\tevent.preventDefault();\n\t}\n\n\tsubmitLink( event ) {\n\t\tconst { isActive, value, onChange, speak } = this.props;\n\t\tconst { inputValue, opensInNewWindow } = this.state;\n\t\tconst url = prependHTTP( inputValue );\n\t\tconst format = createLinkFormat( { url, opensInNewWindow, text: value.text } );\n\n\t\tevent.preventDefault();\n\n\t\tif ( isCollapsed( value ) && ! isActive ) {\n\t\t\tconst toInsert = applyFormat( create( { text: url } ), format, 0, url.length );\n\t\t\tonChange( insert( value, toInsert ) );\n\t\t} else {\n\t\t\tonChange( applyFormat( value, format ) );\n\t\t}\n\n\t\tthis.resetState();\n\n\t\tif ( isActive ) {\n\t\t\tspeak( __( 'Link edited.' ), 'assertive' );\n\t\t} else {\n\t\t\tspeak( __( 'Link added.' ), 'assertive' );\n\t\t}\n\t}\n\n\tonClickOutside( event ) {\n\t\t// The autocomplete suggestions list renders in a separate popover (in a portal),\n\t\t// so onClickOutside fails to detect that a click on a suggestion occured in the\n\t\t// LinkContainer. Detect clicks on autocomplete suggestions using a ref here, and\n\t\t// return to avoid the popover being closed.\n\t\tconst autocompleteElement = this.autocompleteRef.current;\n\t\tif ( autocompleteElement && autocompleteElement.contains( event.target ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.resetState();\n\t}\n\n\tresetState() {\n\t\tthis.props.stopAddingLink();\n\t\tthis.setState( { editLink: false } );\n\t}\n\n\trender() {\n\t\tconst { isActive, activeAttributes: { url }, addingLink, value } = this.props;\n\n\t\tif ( ! isActive && ! addingLink ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { inputValue, opensInNewWindow } = this.state;\n\t\tconst showInput = isShowingInput( this.props, this.state );\n\n\t\treturn (\n\t\t\t<PositionedAtSelection\n\t\t\t\tkey={ `${ value.start }${ value.end }` /* Used to force rerender on selection change */ }\n\t\t\t>\n\t\t\t\t<URLPopover\n\t\t\t\t\tonClickOutside={ this.onClickOutside }\n\t\t\t\t\tfocusOnMount={ showInput ? 'firstElement' : false }\n\t\t\t\t\trenderSettings={ () => (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Open in New Tab' ) }\n\t\t\t\t\t\t\tchecked={ opensInNewWindow }\n\t\t\t\t\t\t\tonChange={ this.setLinkTarget }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ showInput ? (\n\t\t\t\t\t\t<LinkEditor\n\t\t\t\t\t\t\tvalue={ inputValue }\n\t\t\t\t\t\t\tonChangeInputValue={ this.onChangeInputValue }\n\t\t\t\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\t\t\t\tsubmitLink={ this.submitLink }\n\t\t\t\t\t\t\tautocompleteRef={ this.autocompleteRef }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<LinkViewer\n\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\teditLink={ this.editLink }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</URLPopover>\n\t\t\t</PositionedAtSelection>\n\t\t);\n\t}\n}\n\nexport default withSpokenMessages( InlineLinkUI );\n"]}