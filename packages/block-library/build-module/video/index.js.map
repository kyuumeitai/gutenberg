{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/video/index.js"],"names":["__","RichText","createBlock","createBlobURL","SVG","Path","edit","name","settings","title","description","icon","keywords","category","attributes","autoplay","type","source","selector","attribute","caption","controls","default","id","loop","muted","poster","preload","src","transforms","from","isMatch","files","length","indexOf","transform","file","block","supports","align","save","undefined","isEmpty"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/editor';\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\nimport { SVG, Path } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/video';\n\nexport const settings = {\n\ttitle: __( 'Video' ),\n\n\tdescription: __( 'Embed a video from your media library or upload a new one.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M4 6l2 4h14v8H4V6m18-2h-4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4L2 6v12l2 2h16l2-2V4z\" /></SVG>,\n\n\tkeywords: [ __( 'movie' ) ],\n\n\tcategory: 'common',\n\n\tattributes: {\n\t\tautoplay: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'autoplay',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\tcontrols: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'controls',\n\t\t\tdefault: true,\n\t\t},\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tloop: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'loop',\n\t\t},\n\t\tmuted: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'muted',\n\t\t},\n\t\tposter: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'poster',\n\t\t},\n\t\tpreload: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'preload',\n\t\t\tdefault: 'metadata',\n\t\t},\n\t\tsrc: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'src',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'video/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// in the video block\n\t\t\t\t\tconst block = createBlock( 'core/video', {\n\t\t\t\t\t\tsrc: createBlobURL( file ),\n\t\t\t\t\t} );\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { autoplay, caption, controls, loop, muted, poster, preload, src } = attributes;\n\t\treturn (\n\t\t\t<figure>\n\t\t\t\t{ src && (\n\t\t\t\t\t<video\n\t\t\t\t\t\tautoPlay={ autoplay }\n\t\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\t\tloop={ loop }\n\t\t\t\t\t\tmuted={ muted }\n\t\t\t\t\t\tposter={ poster }\n\t\t\t\t\t\tpreload={ preload !== 'metadata' ? preload : undefined }\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n"]}