{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/embed/embed-preview.js"],"names":["EmbedPreview","props","preview","url","type","caption","onCaptionChange","isSelected","className","icon","label","scripts","html","parsedUrl","cannotPreview","HOSTS_NO_PREVIEWS","host","replace","iframeTitle","sandboxClassnames","embedWrapper","__html","RichText","isEmpty"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AAKA;;AACA;;AACA;;AAKA;;AACA;;AACA;;AAlBA;;;;AAMA;;;;AAOA;;;AAOA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAAEC,KAAF,EAAa;AAAA,MACzBC,OADyB,GAC4DD,KAD5D,CACzBC,OADyB;AAAA,MAChBC,GADgB,GAC4DF,KAD5D,CAChBE,GADgB;AAAA,MACXC,IADW,GAC4DH,KAD5D,CACXG,IADW;AAAA,MACLC,OADK,GAC4DJ,KAD5D,CACLI,OADK;AAAA,MACIC,eADJ,GAC4DL,KAD5D,CACIK,eADJ;AAAA,MACqBC,UADrB,GAC4DN,KAD5D,CACqBM,UADrB;AAAA,MACiCC,SADjC,GAC4DP,KAD5D,CACiCO,SADjC;AAAA,MAC4CC,IAD5C,GAC4DR,KAD5D,CAC4CQ,IAD5C;AAAA,MACkDC,KADlD,GAC4DT,KAD5D,CACkDS,KADlD;AAAA,MAEzBC,OAFyB,GAEbT,OAFa,CAEzBS,OAFyB;AAIjC,MAAMC,IAAI,GAAG,YAAYR,IAAZ,GAAmB,wBAAcF,OAAd,CAAnB,GAA6CA,OAAO,CAACU,IAAlE;AACA,MAAMC,SAAS,GAAG,gBAAOV,GAAP,CAAlB;AACA,MAAMW,aAAa,GAAG,sBAAUC,4BAAV,EAA6BF,SAAS,CAACG,IAAV,CAAeC,OAAf,CAAwB,QAAxB,EAAkC,EAAlC,CAA7B,CAAtB,CANiC,CAOjC;;AACA,MAAMC,WAAW,GAAG,mBAAS,cAAI,0BAAJ,CAAT,EAA2CL,SAAS,CAACG,IAArD,CAApB;AACA,MAAMG,iBAAiB,GAAG,qBAAYf,IAAZ,EAAkBI,SAAlB,EAA6B,yBAA7B,CAA1B;AAEA,MAAMY,YAAY,GAAG,eAAehB,IAAf,GACpB;AACC,IAAA,SAAS,EAAGe,iBADb;AAEC,IAAA,uBAAuB,EAAG;AAAEE,MAAAA,MAAM,EAAET;AAAV;AAF3B,IADoB,GAMpB;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,mBAAD;AACC,IAAA,IAAI,EAAGA,IADR;AAEC,IAAA,OAAO,EAAGD,OAFX;AAGC,IAAA,KAAK,EAAGO,WAHT;AAIC,IAAA,IAAI,EAAGC;AAJR,IADD,CAND;AAgBA,SACC;AAAQ,IAAA,SAAS,EAAG,qBAAYX,SAAZ,EAAuB,gBAAvB,EAAyC;AAAE,uBAAiB,YAAYJ;AAA/B,KAAzC;AAApB,KACKU,aAAF,GACD,4BAAC,uBAAD;AAAa,IAAA,IAAI,EAAG,4BAAC,iBAAD;AAAW,MAAA,IAAI,EAAGL,IAAlB;AAAyB,MAAA,UAAU;AAAnC,MAApB;AAA6D,IAAA,KAAK,EAAGC;AAArE,KACC;AAAG,IAAA,SAAS,EAAC;AAAb,KAA6C;AAAG,IAAA,IAAI,EAAGP;AAAV,KAAkBA,GAAlB,CAA7C,CADD,EAEC;AAAG,IAAA,SAAS,EAAC;AAAb,KAA+C,cAAI,yDAAJ,CAA/C,CAFD,CADC,GAKEiB,YANL,EAOG,CAAE,CAAEE,iBAASC,OAAT,CAAkBlB,OAAlB,CAAF,IAAiCE,UAAnC,KACD,4BAAC,gBAAD;AACC,IAAA,OAAO,EAAC,YADT;AAEC,IAAA,WAAW,EAAG,cAAI,gBAAJ,CAFf;AAGC,IAAA,KAAK,EAAGF,OAHT;AAIC,IAAA,QAAQ,EAAGC,eAJZ;AAKC,IAAA,aAAa;AALd,IARF,CADD;AAmBA,CA9CD;;eAgDeN,Y","sourcesContent":["/**\n * Internal dependencies\n */\nimport { HOSTS_NO_PREVIEWS } from './constants';\nimport { getPhotoHtml } from './util';\n\n/**\n * External dependencies\n */\nimport { parse } from 'url';\nimport { includes } from 'lodash';\nimport classnames from 'classnames/dedupe';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Placeholder, SandBox } from '@wordpress/components';\nimport { RichText, BlockIcon } from '@wordpress/editor';\n\nconst EmbedPreview = ( props ) => {\n\tconst { preview, url, type, caption, onCaptionChange, isSelected, className, icon, label } = props;\n\tconst { scripts } = preview;\n\n\tconst html = 'photo' === type ? getPhotoHtml( preview ) : preview.html;\n\tconst parsedUrl = parse( url );\n\tconst cannotPreview = includes( HOSTS_NO_PREVIEWS, parsedUrl.host.replace( /^www\\./, '' ) );\n\t// translators: %s: host providing embed content e.g: www.youtube.com\n\tconst iframeTitle = sprintf( __( 'Embedded content from %s' ), parsedUrl.host );\n\tconst sandboxClassnames = classnames( type, className, 'wp-block-embed__wrapper' );\n\n\tconst embedWrapper = 'wp-embed' === type ? (\n\t\t<div\n\t\t\tclassName={ sandboxClassnames }\n\t\t\tdangerouslySetInnerHTML={ { __html: html } }\n\t\t/>\n\t) : (\n\t\t<div className=\"wp-block-embed__wrapper\">\n\t\t\t<SandBox\n\t\t\t\thtml={ html }\n\t\t\t\tscripts={ scripts }\n\t\t\t\ttitle={ iframeTitle }\n\t\t\t\ttype={ sandboxClassnames }\n\t\t\t/>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<figure className={ classnames( className, 'wp-block-embed', { 'is-type-video': 'video' === type } ) }>\n\t\t\t{ ( cannotPreview ) ? (\n\t\t\t\t<Placeholder icon={ <BlockIcon icon={ icon } showColors /> } label={ label }>\n\t\t\t\t\t<p className=\"components-placeholder__error\"><a href={ url }>{ url }</a></p>\n\t\t\t\t\t<p className=\"components-placeholder__error\">{ __( 'Previews for this are unavailable in the editor, sorry!' ) }</p>\n\t\t\t\t</Placeholder>\n\t\t\t) : embedWrapper }\n\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\tplaceholder={ __( 'Write captionâ€¦' ) }\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t\tonChange={ onCaptionChange }\n\t\t\t\t\tinlineToolbar\n\t\t\t\t/>\n\t\t\t) }\n\t\t</figure>\n\t);\n};\n\nexport default EmbedPreview;\n"]}