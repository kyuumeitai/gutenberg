{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/audio/index.js"],"names":["name","settings","title","description","icon","category","attributes","src","type","source","selector","attribute","caption","id","autoplay","loop","preload","transforms","from","isMatch","files","length","indexOf","transform","file","block","supports","align","edit","save","RichText","isEmpty"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/editor';\nimport { SVG, Path } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\n\nexport const name = 'core/audio';\n\nexport const settings = {\n\ttitle: __( 'Audio' ),\n\n\tdescription: __( 'Embed a simple audio player.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"m12 3l0.01 10.55c-0.59-0.34-1.27-0.55-2-0.55-2.22 0-4.01 1.79-4.01 4s1.79 4 4.01 4 3.99-1.79 3.99-4v-10h4v-4h-6zm-1.99 16c-1.1 0-2-0.9-2-2s0.9-2 2-2 2 0.9 2 2-0.9 2-2 2z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tattributes: {\n\t\tsrc: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'src',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tautoplay: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'autoplay',\n\t\t},\n\t\tloop: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'loop',\n\t\t},\n\t\tpreload: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'preload',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'audio/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// in the audio block\n\t\t\t\t\tconst block = createBlock( 'core/audio', {\n\t\t\t\t\t\tsrc: createBlobURL( file ),\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { autoplay, caption, loop, preload, src } = attributes;\n\t\treturn (\n\t\t\t<figure>\n\t\t\t\t<audio controls=\"controls\" src={ src } autoPlay={ autoplay } loop={ loop } preload={ preload } />\n\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n"]}