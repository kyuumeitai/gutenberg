{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/edit-post/src/components/layout/index.js"],"names":["classnames","Button","Popover","ScrollLock","navigateRegions","__","AutosaveMonitor","UnsavedChangesWarning","EditorNotices","PostPublishPanel","PreserveScrollInReorder","withDispatch","withSelect","Fragment","PluginArea","withViewportMatch","compose","BrowserURL","Header","TextEditor","VisualEditor","EditorModeKeyboardShortcuts","KeyboardShortcutHelpModal","OptionsModal","MetaBoxes","SettingsSidebar","Sidebar","PluginPostPublishPanel","PluginPrePublishPanel","FullscreenMode","Layout","mode","editorSidebarOpened","pluginSidebarOpened","publishSidebarOpened","hasFixedToolbar","closePublishSidebar","togglePublishSidebar","hasActiveMetaboxes","isSaving","isMobileViewport","sidebarIsOpened","className","publishLandmarkProps","role","tabIndex","Slot","select","getEditorMode","isEditorSidebarOpened","isPluginSidebarOpened","isPublishSidebarOpened","isFeatureActive","hasMetaBoxes","isSavingMetaBoxes","dispatch"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Popover, ScrollLock, navigateRegions } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tAutosaveMonitor,\n\tUnsavedChangesWarning,\n\tEditorNotices,\n\tPostPublishPanel,\n\tPreserveScrollInReorder,\n} from '@wordpress/editor';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Fragment } from '@wordpress/element';\nimport { PluginArea } from '@wordpress/plugins';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BrowserURL from '../browser-url';\nimport Header from '../header';\nimport TextEditor from '../text-editor';\nimport VisualEditor from '../visual-editor';\nimport EditorModeKeyboardShortcuts from '../keyboard-shortcuts';\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\nimport OptionsModal from '../options-modal';\nimport MetaBoxes from '../meta-boxes';\nimport SettingsSidebar from '../sidebar/settings-sidebar';\nimport Sidebar from '../sidebar';\nimport PluginPostPublishPanel from '../sidebar/plugin-post-publish-panel';\nimport PluginPrePublishPanel from '../sidebar/plugin-pre-publish-panel';\nimport FullscreenMode from '../fullscreen-mode';\n\nfunction Layout( {\n\tmode,\n\teditorSidebarOpened,\n\tpluginSidebarOpened,\n\tpublishSidebarOpened,\n\thasFixedToolbar,\n\tclosePublishSidebar,\n\ttogglePublishSidebar,\n\thasActiveMetaboxes,\n\tisSaving,\n\tisMobileViewport,\n} ) {\n\tconst sidebarIsOpened = editorSidebarOpened || pluginSidebarOpened || publishSidebarOpened;\n\n\tconst className = classnames( 'edit-post-layout', {\n\t\t'is-sidebar-opened': sidebarIsOpened,\n\t\t'has-fixed-toolbar': hasFixedToolbar,\n\t} );\n\n\tconst publishLandmarkProps = {\n\t\trole: 'region',\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\t'aria-label': __( 'Editor publish' ),\n\t\ttabIndex: -1,\n\t};\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<FullscreenMode />\n\t\t\t<BrowserURL />\n\t\t\t<UnsavedChangesWarning />\n\t\t\t<AutosaveMonitor />\n\t\t\t<Header />\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-layout__content\"\n\t\t\t\trole=\"region\"\n\t\t\t\t/* translators: accessibility text for the content landmark region. */\n\t\t\t\taria-label={ __( 'Editor content' ) }\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t>\n\t\t\t\t<EditorNotices />\n\t\t\t\t<PreserveScrollInReorder />\n\t\t\t\t<EditorModeKeyboardShortcuts />\n\t\t\t\t<KeyboardShortcutHelpModal />\n\t\t\t\t<OptionsModal />\n\t\t\t\t{ mode === 'text' && <TextEditor /> }\n\t\t\t\t{ mode === 'visual' && <VisualEditor /> }\n\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\n\t\t\t\t\t<MetaBoxes location=\"normal\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\n\t\t\t\t\t<MetaBoxes location=\"advanced\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ publishSidebarOpened ? (\n\t\t\t\t<PostPublishPanel\n\t\t\t\t\t{ ...publishLandmarkProps }\n\t\t\t\t\tonClose={ closePublishSidebar }\n\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\tforceIsSaving={ isSaving }\n\t\t\t\t\tPrePublishExtension={ PluginPrePublishPanel.Slot }\n\t\t\t\t\tPostPublishExtension={ PluginPostPublishPanel.Slot }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div className=\"edit-post-toggle-publish-panel\" { ...publishLandmarkProps }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"edit-post-toggle-publish-panel__button\"\n\t\t\t\t\t\t\tonClick={ togglePublishSidebar }\n\t\t\t\t\t\t\taria-expanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Open publish panel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<SettingsSidebar />\n\t\t\t\t\t<Sidebar.Slot />\n\t\t\t\t\t{\n\t\t\t\t\t\tisMobileViewport && sidebarIsOpened && <ScrollLock />\n\t\t\t\t\t}\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t\t<Popover.Slot />\n\t\t\t<PluginArea />\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\tmode: select( 'core/edit-post' ).getEditorMode(),\n\t\teditorSidebarOpened: select( 'core/edit-post' ).isEditorSidebarOpened(),\n\t\tpluginSidebarOpened: select( 'core/edit-post' ).isPluginSidebarOpened(),\n\t\tpublishSidebarOpened: select( 'core/edit-post' ).isPublishSidebarOpened(),\n\t\thasFixedToolbar: select( 'core/edit-post' ).isFeatureActive( 'fixedToolbar' ),\n\t\thasActiveMetaboxes: select( 'core/edit-post' ).hasMetaBoxes(),\n\t\tisSaving: select( 'core/edit-post' ).isSavingMetaBoxes(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { closePublishSidebar, togglePublishSidebar } = dispatch( 'core/edit-post' );\n\t\treturn {\n\t\t\tclosePublishSidebar,\n\t\t\ttogglePublishSidebar,\n\t\t};\n\t} ),\n\tnavigateRegions,\n\twithViewportMatch( { isMobileViewport: '< small' } ),\n)( Layout );\n"]}