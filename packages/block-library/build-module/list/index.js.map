{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/block-library/src/list/index.js"],"names":["find","omit","Component","Fragment","__","createBlock","getPhrasingContentSchema","getBlockAttributes","getBlockType","BlockControls","RichText","replace","join","split","create","toHTMLString","LINE_SEPARATOR","G","Path","SVG","listContentSchema","ul","ol","attributes","forEach","tag","children","li","supports","className","schema","ordered","type","default","values","source","selector","multiline","name","settings","title","description","icon","category","keywords","transforms","from","isMultiBlock","blocks","transform","blockAttributes","value","map","content","html","multilineTag","node","outerHTML","nodeName","regExp","to","multilineWrapperTags","piece","deprecated","property","migrate","migratedAttributes","save","toLowerCase","merge","attributesToMerge","edit","arguments","setupEditor","bind","getEditorSettings","setNextValues","state","internalListType","parents","list","editor","on","nodeInfo","setState","findInternalListType","lang","window","navigator","browserLanguage","language","keyboardHasSquareBracket","test","shortcuts","add","command","setAttributes","props","execCommand","editorSettings","plugins","concat","lists_indent_on_tab","nextValues","insertBlocksAfter","mergeBlocks","onReplace","tagName","isActive","onClick","createSetListType","createExecCommand","before","after","length","push","undefined"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { find, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcreateBlock,\n\tgetPhrasingContentSchema,\n\tgetBlockAttributes,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport {\n\tBlockControls,\n\tRichText,\n} from '@wordpress/editor';\nimport { replace, join, split, create, toHTMLString, LINE_SEPARATOR } from '@wordpress/rich-text';\nimport { G, Path, SVG } from '@wordpress/components';\n\nconst listContentSchema = {\n\t...getPhrasingContentSchema(),\n\tul: {},\n\tol: { attributes: [ 'type' ] },\n};\n\n// Recursion is needed.\n// Possible: ul > li > ul.\n// Impossible: ul > ul.\n[ 'ul', 'ol' ].forEach( ( tag ) => {\n\tlistContentSchema[ tag ].children = {\n\t\tli: {\n\t\t\tchildren: listContentSchema,\n\t\t},\n\t};\n} );\n\nconst supports = {\n\tclassName: false,\n};\n\nconst schema = {\n\tordered: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tvalues: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'ol,ul',\n\t\tmultiline: 'li',\n\t\tdefault: '',\n\t},\n};\n\nexport const name = 'core/list';\n\nexport const settings = {\n\ttitle: __( 'List' ),\n\tdescription: __( 'Create a bulleted or numbered list.' ),\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><G><Path d=\"M9 19h12v-2H9v2zm0-6h12v-2H9v2zm0-8v2h12V5H9zm-4-.5c-.828 0-1.5.672-1.5 1.5S4.172 7.5 5 7.5 6.5 6.828 6.5 6 5.828 4.5 5 4.5zm0 6c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm0 6c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5z\" /></G></SVG>,\n\tcategory: 'common',\n\tkeywords: [ __( 'bullet list' ), __( 'ordered list' ), __( 'numbered list' ) ],\n\n\tattributes: schema,\n\n\tsupports,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( blockAttributes ) => {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tvalues: toHTMLString( {\n\t\t\t\t\t\t\tvalue: join( blockAttributes.map( ( { content } ) =>\n\t\t\t\t\t\t\t\treplace( create( { html: content } ), /\\n/g, LINE_SEPARATOR )\n\t\t\t\t\t\t\t), LINE_SEPARATOR ),\n\t\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/quote' ],\n\t\t\t\ttransform: ( { value } ) => {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tvalues: toHTMLString( {\n\t\t\t\t\t\t\tvalue: create( { html: value, multilineTag: 'p' } ),\n\t\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tselector: 'ol,ul',\n\t\t\t\tschema: {\n\t\t\t\t\tol: listContentSchema.ol,\n\t\t\t\t\tul: listContentSchema.ul,\n\t\t\t\t},\n\t\t\t\ttransform( node ) {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\t...getBlockAttributes(\n\t\t\t\t\t\t\tgetBlockType( 'core/list' ),\n\t\t\t\t\t\t\tnode.outerHTML\n\t\t\t\t\t\t),\n\t\t\t\t\t\tordered: node.nodeName === 'OL',\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'pattern',\n\t\t\t\tregExp: /^[*-]\\s/,\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tvalues: `<li>${ content }</li>`,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'pattern',\n\t\t\t\tregExp: /^1[.)]\\s/,\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tordered: true,\n\t\t\t\t\t\tvalues: `<li>${ content }</li>`,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { values } ) =>\n\t\t\t\t\tsplit( create( {\n\t\t\t\t\t\thtml: values,\n\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\tmultilineWrapperTags: [ 'ul', 'ol' ],\n\t\t\t\t\t} ), LINE_SEPARATOR )\n\t\t\t\t\t\t.map( ( piece ) =>\n\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\t\tcontent: toHTMLString( { value: piece } ),\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/quote' ],\n\t\t\t\ttransform: ( { values } ) => {\n\t\t\t\t\treturn createBlock( 'core/quote', {\n\t\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\t\tvalue: create( {\n\t\t\t\t\t\t\t\thtml: values,\n\t\t\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\t\t\tmultilineWrapperTags: [ 'ul', 'ol' ],\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\tmultilineTag: 'p',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: {\n\t\t\t\t...omit( schema, [ 'ordered' ] ),\n\t\t\t\tnodeName: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'property',\n\t\t\t\t\tselector: 'ol,ul',\n\t\t\t\t\tproperty: 'nodeName',\n\t\t\t\t\tdefault: 'UL',\n\t\t\t\t},\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\tconst { nodeName, ...migratedAttributes } = attributes;\n\n\t\t\t\treturn {\n\t\t\t\t\t...migratedAttributes,\n\t\t\t\t\tordered: 'OL' === nodeName,\n\t\t\t\t};\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { nodeName, values } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName={ nodeName.toLowerCase() }\n\t\t\t\t\t\tvalue={ values }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\n\tmerge( attributes, attributesToMerge ) {\n\t\tconst { values } = attributesToMerge;\n\n\t\tif ( ! values || values === '<li></li>' ) {\n\t\t\treturn attributes;\n\t\t}\n\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tvalues: attributes.values + values,\n\t\t};\n\t},\n\n\tedit: class extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\n\t\t\tthis.setupEditor = this.setupEditor.bind( this );\n\t\t\tthis.getEditorSettings = this.getEditorSettings.bind( this );\n\t\t\tthis.setNextValues = this.setNextValues.bind( this );\n\n\t\t\tthis.state = {\n\t\t\t\tinternalListType: null,\n\t\t\t};\n\t\t}\n\n\t\tfindInternalListType( { parents } ) {\n\t\t\tconst list = find( parents, ( node ) => node.nodeName === 'UL' || node.nodeName === 'OL' );\n\t\t\treturn list ? list.nodeName : null;\n\t\t}\n\n\t\tsetupEditor( editor ) {\n\t\t\teditor.on( 'nodeChange', ( nodeInfo ) => {\n\t\t\t\tthis.setState( {\n\t\t\t\t\tinternalListType: this.findInternalListType( nodeInfo ),\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t// Check for languages that do not have square brackets on their keyboards.\n\t\t\tconst lang = window.navigator.browserLanguage || window.navigator.language;\n\t\t\tconst keyboardHasSquareBracket = ! /^(?:fr|nl|sv|ru|de|es|it)/.test( lang );\n\n\t\t\tif ( keyboardHasSquareBracket ) {\n\t\t\t\t// `[` is keycode 219; `]` is keycode 221.\n\t\t\t\teditor.shortcuts.add( 'meta+219', 'Decrease indent', 'Outdent' );\n\t\t\t\teditor.shortcuts.add( 'meta+221', 'Increase indent', 'Indent' );\n\t\t\t} else {\n\t\t\t\teditor.shortcuts.add( 'meta+shift+m', 'Decrease indent', 'Outdent' );\n\t\t\t\teditor.shortcuts.add( 'meta+m', 'Increase indent', 'Indent' );\n\t\t\t}\n\n\t\t\tthis.editor = editor;\n\t\t}\n\n\t\tcreateSetListType( type, command ) {\n\t\t\treturn () => {\n\t\t\t\tconst { setAttributes } = this.props;\n\t\t\t\tconst { internalListType } = this.state;\n\t\t\t\tif ( internalListType ) {\n\t\t\t\t\t// Only change list types, don't toggle off internal lists.\n\t\t\t\t\tif ( internalListType !== type && this.editor ) {\n\t\t\t\t\t\tthis.editor.execCommand( command );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetAttributes( { ordered: type === 'OL' } );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateExecCommand( command ) {\n\t\t\treturn () => {\n\t\t\t\tif ( this.editor ) {\n\t\t\t\t\tthis.editor.execCommand( command );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tgetEditorSettings( editorSettings ) {\n\t\t\treturn {\n\t\t\t\t...editorSettings,\n\t\t\t\tplugins: ( editorSettings.plugins || [] ).concat( 'lists' ),\n\t\t\t\tlists_indent_on_tab: false,\n\t\t\t};\n\t\t}\n\n\t\tsetNextValues( nextValues ) {\n\t\t\tthis.props.setAttributes( { values: nextValues } );\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tattributes,\n\t\t\t\tinsertBlocksAfter,\n\t\t\t\tsetAttributes,\n\t\t\t\tmergeBlocks,\n\t\t\t\tonReplace,\n\t\t\t\tclassName,\n\t\t\t} = this.props;\n\t\t\tconst { ordered, values } = attributes;\n\t\t\tconst tagName = ordered ? 'ol' : 'ul';\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<BlockControls\n\t\t\t\t\t\tcontrols={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: 'editor-ul',\n\t\t\t\t\t\t\t\ttitle: __( 'Convert to unordered list' ),\n\t\t\t\t\t\t\t\tisActive: ! ordered,\n\t\t\t\t\t\t\t\tonClick: this.createSetListType( 'UL', 'InsertUnorderedList' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: 'editor-ol',\n\t\t\t\t\t\t\t\ttitle: __( 'Convert to ordered list' ),\n\t\t\t\t\t\t\t\tisActive: ordered,\n\t\t\t\t\t\t\t\tonClick: this.createSetListType( 'OL', 'InsertOrderedList' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: 'editor-outdent',\n\t\t\t\t\t\t\t\ttitle: __( 'Outdent list item' ),\n\t\t\t\t\t\t\t\tonClick: this.createExecCommand( 'Outdent' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: 'editor-indent',\n\t\t\t\t\t\t\t\ttitle: __( 'Indent list item' ),\n\t\t\t\t\t\t\t\tonClick: this.createExecCommand( 'Indent' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\t\tunstableGetSettings={ this.getEditorSettings }\n\t\t\t\t\t\tunstableOnSetup={ this.setupEditor }\n\t\t\t\t\t\tonChange={ this.setNextValues }\n\t\t\t\t\t\tvalue={ values }\n\t\t\t\t\t\twrapperClassName=\"block-library-list\"\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\tplaceholder={ __( 'Write list…' ) }\n\t\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\t\tonSplit={\n\t\t\t\t\t\t\tinsertBlocksAfter ?\n\t\t\t\t\t\t\t\t( before, after, ...blocks ) => {\n\t\t\t\t\t\t\t\t\tif ( ! blocks.length ) {\n\t\t\t\t\t\t\t\t\t\tblocks.push( createBlock( 'core/paragraph' ) );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( after !== '<li></li>' ) {\n\t\t\t\t\t\t\t\t\t\tblocks.push( createBlock( 'core/list', {\n\t\t\t\t\t\t\t\t\t\t\tordered,\n\t\t\t\t\t\t\t\t\t\t\tvalues: after,\n\t\t\t\t\t\t\t\t\t\t} ) );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tsetAttributes( { values: before } );\n\t\t\t\t\t\t\t\t\tinsertBlocksAfter( blocks );\n\t\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonRemove={ () => onReplace( [] ) }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { ordered, values } = attributes;\n\t\tconst tagName = ordered ? 'ol' : 'ul';\n\n\t\treturn (\n\t\t\t<RichText.Content tagName={ tagName } value={ values } multiline=\"li\" />\n\t\t);\n\t},\n};\n"]}