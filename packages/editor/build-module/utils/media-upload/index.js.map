{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/editor/src/utils/media-upload/index.js"],"names":["noop","select","mediaUpload","allowedTypes","filesList","maxUploadFileSize","onError","onFileChange","getCurrentPostId","getEditorSettings","wpAllowedMimeTypes","allowedMimeTypes","additionalData","post","message"],"mappings":"AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,MAAT,QAAuB,iBAAvB;AAEA;;;;AAGA,SAASC,WAAT,QAA4B,gBAA5B;AAEA;;;;;;;;;;;;AAWA,eAAe,gBAMX;AAAA,MALHC,YAKG,QALHA,YAKG;AAAA,MAJHC,SAIG,QAJHA,SAIG;AAAA,MAHHC,iBAGG,QAHHA,iBAGG;AAAA,0BAFHC,OAEG;AAAA,MAFHA,QAEG,6BAFON,IAEP;AAAA,MADHO,YACG,QADHA,YACG;;AAAA,gBAICN,MAAM,CAAE,aAAF,CAJP;AAAA,MAEFO,gBAFE,WAEFA,gBAFE;AAAA,MAGFC,iBAHE,WAGFA,iBAHE;;AAKH,MAAMC,kBAAkB,GAAGD,iBAAiB,GAAGE,gBAA/C;AACAN,EAAAA,iBAAiB,GAAGA,iBAAiB,IAAII,iBAAiB,GAAGJ,iBAA7D;AAEAH,EAAAA,WAAW,CAAE;AACZC,IAAAA,YAAY,EAAZA,YADY;AAEZC,IAAAA,SAAS,EAATA,SAFY;AAGZG,IAAAA,YAAY,EAAZA,YAHY;AAIZK,IAAAA,cAAc,EAAE;AACfC,MAAAA,IAAI,EAAEL,gBAAgB;AADP,KAJJ;AAOZH,IAAAA,iBAAiB,EAAjBA,iBAPY;AAQZC,IAAAA,OAAO,EAAE;AAAA,UAAIQ,OAAJ,SAAIA,OAAJ;AAAA,aAAmBR,QAAO,CAAEQ,OAAF,CAA1B;AAAA,KARG;AASZJ,IAAAA,kBAAkB,EAAlBA;AATY,GAAF,CAAX;AAWA","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { mediaUpload } from './media-upload';\n\n/**\n * Upload a media file when the file upload button is activated.\n * Wrapper around mediaUpload() that injects the current post ID.\n *\n * @param   {Object}   $0                   Parameters object passed to the function.\n * @param   {string}   $0.allowedTypes      Array with the types of media that can be uploaded, if unset all types are allowed.\n * @param   {Array}    $0.filesList         List of files.\n * @param   {?number}  $0.maxUploadFileSize Maximum upload size in bytes allowed for the site.\n * @param   {Function} $0.onError           Function called when an error happens.\n * @param   {Function} $0.onFileChange      Function called each time a file or a temporary representation of the file is available.\n */\nexport default function( {\n\tallowedTypes,\n\tfilesList,\n\tmaxUploadFileSize,\n\tonError = noop,\n\tonFileChange,\n} ) {\n\tconst {\n\t\tgetCurrentPostId,\n\t\tgetEditorSettings,\n\t} = select( 'core/editor' );\n\tconst wpAllowedMimeTypes = getEditorSettings().allowedMimeTypes;\n\tmaxUploadFileSize = maxUploadFileSize || getEditorSettings().maxUploadFileSize;\n\n\tmediaUpload( {\n\t\tallowedTypes,\n\t\tfilesList,\n\t\tonFileChange,\n\t\tadditionalData: {\n\t\t\tpost: getCurrentPostId(),\n\t\t},\n\t\tmaxUploadFileSize,\n\t\tonError: ( { message } ) => onError( message ),\n\t\twpAllowedMimeTypes,\n\t} );\n}\n"]}