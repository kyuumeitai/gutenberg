{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/components/src/dropdown/index.js"],"names":["Dropdown","arguments","toggle","bind","close","refresh","popoverRef","state","isOpen","onToggle","props","prevProps","prevState","current","setState","renderContent","renderToggle","position","className","contentClassName","expandOnMobile","headerTitle","args","onClose","Component"],"mappings":";;;;;;;;;AAGA;;;;;;;;;;;;;;AAKA;;AARA;;;;AAKA;;;IAKMA,Q;;;;;AACL,sBAAc;AAAA;;AAAA;AACb,+GAAUC,SAAV;AAEA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,mFAAd;AACA,UAAKC,KAAL,GAAa,MAAKA,KAAL,CAAWD,IAAX,mFAAb;AACA,UAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,mFAAf;AAEA,UAAKG,UAAL,GAAkB,yBAAlB;AAEA,UAAKC,KAAL,GAAa;AACZC,MAAAA,MAAM,EAAE;AADI,KAAb;AATa;AAYb;;;;2CAEsB;AAAA,UACdA,MADc,GACH,KAAKD,KADF,CACdC,MADc;AAAA,UAEdC,QAFc,GAED,KAAKC,KAFJ,CAEdD,QAFc;;AAGtB,UAAKD,MAAM,IAAIC,QAAf,EAA0B;AACzBA,QAAAA,QAAQ,CAAE,KAAF,CAAR;AACA;AACD;;;uCAEmBE,S,EAAWC,S,EAAY;AAAA,UAClCJ,MADkC,GACvB,KAAKD,KADkB,CAClCC,MADkC;AAAA,UAElCC,QAFkC,GAErB,KAAKC,KAFgB,CAElCD,QAFkC;;AAG1C,UAAKG,SAAS,CAACJ,MAAV,KAAqBA,MAArB,IAA+BC,QAApC,EAA+C;AAC9CA,QAAAA,QAAQ,CAAED,MAAF,CAAR;AACA;AACD;AAED;;;;;;;;8BAKU;AACT,UAAK,KAAKF,UAAL,CAAgBO,OAArB,EAA+B;AAC9B,aAAKP,UAAL,CAAgBO,OAAhB,CAAwBR,OAAxB;AACA;AACD;;;6BAEQ;AACR,WAAKS,QAAL,CAAe,UAAEP,KAAF;AAAA,eAAe;AAC7BC,UAAAA,MAAM,EAAE,CAAED,KAAK,CAACC;AADa,SAAf;AAAA,OAAf;AAGA;;;4BAEO;AACP,WAAKM,QAAL,CAAe;AAAEN,QAAAA,MAAM,EAAE;AAAV,OAAf;AACA;;;6BAEQ;AAAA,UACAA,MADA,GACW,KAAKD,KADhB,CACAC,MADA;AAAA,wBAUJ,KAAKE,KAVD;AAAA,UAGPK,aAHO,eAGPA,aAHO;AAAA,UAIPC,YAJO,eAIPA,YAJO;AAAA,6CAKPC,QALO;AAAA,UAKPA,QALO,qCAKI,QALJ;AAAA,UAMPC,SANO,eAMPA,SANO;AAAA,UAOPC,gBAPO,eAOPA,gBAPO;AAAA,UAQPC,cARO,eAQPA,cARO;AAAA,UASPC,WATO,eASPA,WATO;AAYR,UAAMC,IAAI,GAAG;AAAEd,QAAAA,MAAM,EAANA,MAAF;AAAUC,QAAAA,QAAQ,EAAE,KAAKP,MAAzB;AAAiCqB,QAAAA,OAAO,EAAE,KAAKnB;AAA/C,OAAb;AAEA,aACC;AAAK,QAAA,SAAS,EAAGc;AAAjB,SACGF,YAAY,CAAEM,IAAF,CADf,EAEGd,MAAM,IACP,4BAAC,gBAAD;AACC,QAAA,SAAS,EAAGW,gBADb;AAEC,QAAA,GAAG,EAAG,KAAKb,UAFZ;AAGC,QAAA,QAAQ,EAAGW,QAHZ;AAIC,QAAA,OAAO,EAAG,KAAKb,KAJhB;AAKC,QAAA,cAAc,EAAGgB,cALlB;AAMC,QAAA,WAAW,EAAGC;AANf,SAQGN,aAAa,CAAEO,IAAF,CARhB,CAHF,CADD;AAiBA;;;EAnFqBE,kB;;eAsFRxB,Q","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Popover from '../popover';\n\nclass Dropdown extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.toggle = this.toggle.bind( this );\n\t\tthis.close = this.close.bind( this );\n\t\tthis.refresh = this.refresh.bind( this );\n\n\t\tthis.popoverRef = createRef();\n\n\t\tthis.state = {\n\t\t\tisOpen: false,\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst { isOpen } = this.state;\n\t\tconst { onToggle } = this.props;\n\t\tif ( isOpen && onToggle ) {\n\t\t\tonToggle( false );\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\tconst { isOpen } = this.state;\n\t\tconst { onToggle } = this.props;\n\t\tif ( prevState.isOpen !== isOpen && onToggle ) {\n\t\t\tonToggle( isOpen );\n\t\t}\n\t}\n\n\t/**\n\t * When contents change height due to user interaction,\n\t * `refresh` can be called to re-render Popover with correct\n\t * attributes which allow scroll, if need be.\n\t */\n\trefresh() {\n\t\tif ( this.popoverRef.current ) {\n\t\t\tthis.popoverRef.current.refresh();\n\t\t}\n\t}\n\n\ttoggle() {\n\t\tthis.setState( ( state ) => ( {\n\t\t\tisOpen: ! state.isOpen,\n\t\t} ) );\n\t}\n\n\tclose() {\n\t\tthis.setState( { isOpen: false } );\n\t}\n\n\trender() {\n\t\tconst { isOpen } = this.state;\n\t\tconst {\n\t\t\trenderContent,\n\t\t\trenderToggle,\n\t\t\tposition = 'bottom',\n\t\t\tclassName,\n\t\t\tcontentClassName,\n\t\t\texpandOnMobile,\n\t\t\theaderTitle,\n\t\t} = this.props;\n\n\t\tconst args = { isOpen, onToggle: this.toggle, onClose: this.close };\n\n\t\treturn (\n\t\t\t<div className={ className }>\n\t\t\t\t{ renderToggle( args ) }\n\t\t\t\t{ isOpen && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tclassName={ contentClassName }\n\t\t\t\t\t\tref={ this.popoverRef }\n\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\tonClose={ this.close }\n\t\t\t\t\t\texpandOnMobile={ expandOnMobile }\n\t\t\t\t\t\theaderTitle={ headerTitle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ renderContent( args ) }\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Dropdown;\n"]}