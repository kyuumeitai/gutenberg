{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/editor/src/components/block-navigation/index.js"],"names":["BlockNavigationList","blocks","selectedBlockClientId","selectBlock","showNestedBlocks","block","blockType","name","clientId","icon","title","innerBlocks","length","BlockNavigation","rootBlock","rootBlocks","hasHierarchy","select","getSelectedBlockClientId","getBlockHierarchyRootClientId","getBlock","getBlocks","dispatch","onSelect","noop"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { map, noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { MenuItem, MenuGroup } from '@wordpress/components';\nimport { getBlockType } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction BlockNavigationList( {\n\tblocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\tshowNestedBlocks,\n} ) {\n\treturn (\n\t\t<ul className=\"editor-block-navigation__list\" role=\"presentation\">\n\t\t\t{ map( blocks, ( block ) => {\n\t\t\t\tconst blockType = getBlockType( block.name );\n\t\t\t\treturn (\n\t\t\t\t\t<li key={ block.clientId } role=\"presentation\">\n\t\t\t\t\t\t<div role=\"presentation\" className=\"editor-block-navigation__item\">\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tclassName={ classnames( 'editor-block-navigation__item-button', {\n\t\t\t\t\t\t\t\t\t'is-selected': block.clientId === selectedBlockClientId,\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\tonClick={ () => selectBlock( block.clientId ) }\n\t\t\t\t\t\t\t\tisSelected={ block.clientId === selectedBlockClientId }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t\t\t\t\t\t{ blockType.title }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ showNestedBlocks && !! block.innerBlocks && !! block.innerBlocks.length && (\n\t\t\t\t\t\t\t<BlockNavigationList\n\t\t\t\t\t\t\t\tblocks={ block.innerBlocks }\n\t\t\t\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ul>\n\t);\n}\n\nfunction BlockNavigation( { rootBlock, rootBlocks, selectedBlockClientId, selectBlock } ) {\n\tconst hasHierarchy = (\n\t\trootBlock && (\n\t\t\trootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 )\n\t\t)\n\t);\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Block Navigation' ) }>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ( ! rootBlocks || rootBlocks.length === 0 ) && (\n\t\t\t\t// If there are no blocks in this document, don't render a list of blocks.\n\t\t\t\t// Instead: inform the user no blocks exist yet.\n\t\t\t\t<p className=\"editor-block-navigation__paragraph\">\n\t\t\t\t\t{ __( 'No blocks created yet.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</MenuGroup>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId ? getBlock( getBlockHierarchyRootClientId( selectedBlockClientId ) ) : null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n"]}