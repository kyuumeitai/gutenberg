{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/editor/src/components/block-settings-menu/reusable-block-delete-button.js"],"names":["noop","compose","MenuItem","__","isReusableBlock","withSelect","withDispatch","ReusableBlockDeleteButton","reusableBlock","onDelete","isTemporary","id","select","clientId","getBlock","getReusableBlock","__experimentalGetReusableBlock","block","attributes","ref","dispatch","onToggle","deleteReusableBlock","__experimentalDeleteReusableBlock","hasConfirmed","window","confirm"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AAEA,OAAO,SAASC,yBAAT,OAAkE;AAAA,MAA5BC,aAA4B,QAA5BA,aAA4B;AAAA,MAAbC,QAAa,QAAbA,QAAa;;AACxE,MAAK,CAAED,aAAP,EAAuB;AACtB,WAAO,IAAP;AACA;;AAED,SACC,cAAC,QAAD;AACC,IAAA,SAAS,EAAC,qCADX;AAEC,IAAA,IAAI,EAAC,IAFN;AAGC,IAAA,QAAQ,EAAGA,aAAa,CAACE,WAH1B;AAIC,IAAA,OAAO,EAAG;AAAA,aAAMD,QAAQ,CAAED,aAAa,CAACG,EAAhB,CAAd;AAAA;AAJX,KAMGR,EAAE,CAAE,6BAAF,CANL,CADD;AAUA;AAED,eAAeF,OAAO,CAAE,CACvBI,UAAU,CAAE,UAAEO,MAAF,SAA4B;AAAA,MAAhBC,QAAgB,SAAhBA,QAAgB;;AAAA,gBAInCD,MAAM,CAAE,aAAF,CAJ6B;AAAA,MAEtCE,QAFsC,WAEtCA,QAFsC;AAAA,MAGNC,gBAHM,WAGtCC,8BAHsC;;AAKvC,MAAMC,KAAK,GAAGH,QAAQ,CAAED,QAAF,CAAtB;AACA,SAAO;AACNL,IAAAA,aAAa,EAAES,KAAK,IAAIb,eAAe,CAAEa,KAAF,CAAxB,GAAoCF,gBAAgB,CAAEE,KAAK,CAACC,UAAN,CAAiBC,GAAnB,CAApD,GAA+E;AADxF,GAAP;AAGA,CATS,CADa,EAWvBb,YAAY,CAAE,UAAEc,QAAF,SAAqC;AAAA,6BAAvBC,QAAuB;AAAA,MAAvBA,QAAuB,+BAAZrB,IAAY;;AAAA,kBAG9CoB,QAAQ,CAAE,aAAF,CAHsC;AAAA,MAEdE,mBAFc,aAEjDC,iCAFiD;;AAKlD,SAAO;AACNd,IAAAA,QADM,oBACIE,EADJ,EACS;AACd;AACA;AACA,UAAMa,YAAY,GAAGC,MAAM,CAACC,OAAP,CAAgBvB,EAAE,CACtC,6DACA,sEAFsC,CAAlB,CAArB;;AAKA,UAAKqB,YAAL,EAAoB;AACnBF,QAAAA,mBAAmB,CAAEX,EAAF,CAAnB;AACAU,QAAAA,QAAQ;AACR;AACD;AAbK,GAAP;AAeA,CApBW,CAXW,CAAF,CAAP,CAgCVd,yBAhCU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { isReusableBlock } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\nexport function ReusableBlockDeleteButton( { reusableBlock, onDelete } ) {\n\tif ( ! reusableBlock ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\tclassName=\"editor-block-settings-menu__control\"\n\t\t\ticon=\"no\"\n\t\t\tdisabled={ reusableBlock.isTemporary }\n\t\t\tonClick={ () => onDelete( reusableBlock.id ) }\n\t\t>\n\t\t\t{ __( 'Remove from Reusable Blocks' ) }\n\t\t</MenuItem>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlock,\n\t\t\t__experimentalGetReusableBlock: getReusableBlock,\n\t\t} = select( 'core/editor' );\n\t\tconst block = getBlock( clientId );\n\t\treturn {\n\t\t\treusableBlock: block && isReusableBlock( block ) ? getReusableBlock( block.attributes.ref ) : null,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onToggle = noop } ) => {\n\t\tconst {\n\t\t\t__experimentalDeleteReusableBlock: deleteReusableBlock,\n\t\t} = dispatch( 'core/editor' );\n\n\t\treturn {\n\t\t\tonDelete( id ) {\n\t\t\t\t// TODO: Make this a <Confirm /> component or similar\n\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\tconst hasConfirmed = window.confirm( __(\n\t\t\t\t\t'Are you sure you want to delete this Reusable Block?\\n\\n' +\n\t\t\t\t\t'It will be permanently removed from all posts and pages that use it.'\n\t\t\t\t) );\n\n\t\t\t\tif ( hasConfirmed ) {\n\t\t\t\t\tdeleteReusableBlock( id );\n\t\t\t\t\tonToggle();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( ReusableBlockDeleteButton );\n"]}