{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/blocks/src/store/reducer.js"],"names":["DEFAULT_CATEGORIES","slug","title","blockTypes","state","action","type","names","createBlockNameSetterReducer","setActionType","indexOf","name","defaultBlockName","freeformFallbackBlockName","unregisteredFallbackBlockName","categories"],"mappings":";;;;;;;;;;;;;;AAGA;;AAKA;;AACA;;AATA;;;;AAKA;;;;AAMA;;;AAGO,IAAMA,kBAAkB,GAAG,CACjC;AAAEC,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,KAAK,EAAE,cAAI,eAAJ;AAAzB,CADiC,EAEjC;AAAED,EAAAA,IAAI,EAAE,YAAR;AAAsBC,EAAAA,KAAK,EAAE,cAAI,YAAJ;AAA7B,CAFiC,EAGjC;AAAED,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,KAAK,EAAE,cAAI,iBAAJ;AAAzB,CAHiC,EAIjC;AAAED,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,KAAK,EAAE,cAAI,SAAJ;AAA1B,CAJiC,EAKjC;AAAED,EAAAA,IAAI,EAAE,OAAR;AAAiBC,EAAAA,KAAK,EAAE,cAAI,QAAJ;AAAxB,CALiC,EAMjC;AAAED,EAAAA,IAAI,EAAE,UAAR;AAAoBC,EAAAA,KAAK,EAAE,cAAI,iBAAJ;AAA3B,CANiC,CAA3B;AASP;;;;;;;;;;;AAQO,SAASC,UAAT,GAA0C;AAAA,MAArBC,KAAqB,uEAAb,EAAa;AAAA,MAATC,MAAS;;AAChD,UAASA,MAAM,CAACC,IAAhB;AACC,SAAK,iBAAL;AACC,6CACIF,KADJ,EAEI,mBAAOC,MAAM,CAACF,UAAd,EAA0B,MAA1B,CAFJ;;AAID,SAAK,oBAAL;AACC,aAAO,kBAAMC,KAAN,EAAaC,MAAM,CAACE,KAApB,CAAP;AAPF;;AAUA,SAAOH,KAAP;AACA;AAED;;;;;;;;;AAOO,SAASI,4BAAT,CAAuCC,aAAvC,EAAuD;AAC7D,SAAO,YAA4B;AAAA,QAA1BL,KAA0B,uEAAlB,IAAkB;AAAA,QAAZC,MAAY;;AAClC,YAASA,MAAM,CAACC,IAAhB;AACC,WAAK,oBAAL;AACC,YAAKD,MAAM,CAACE,KAAP,CAAaG,OAAb,CAAsBN,KAAtB,MAAkC,CAAC,CAAxC,EAA4C;AAC3C,iBAAO,IAAP;AACA;;AACD,eAAOA,KAAP;;AAED,WAAKK,aAAL;AACC,eAAOJ,MAAM,CAACM,IAAP,IAAe,IAAtB;AARF;;AAWA,WAAOP,KAAP;AACA,GAbD;AAcA;;AAEM,IAAMQ,gBAAgB,GAAGJ,4BAA4B,CAAE,wBAAF,CAArD;;AAEA,IAAMK,yBAAyB,GAAGL,4BAA4B,CAAE,kCAAF,CAA9D;;AACA,IAAMM,6BAA6B,GAAGN,4BAA4B,CAAE,sCAAF,CAAlE;AAEP;;;;;;;;;;;AAQO,SAASO,UAAT,GAA0D;AAAA,MAArCX,KAAqC,uEAA7BJ,kBAA6B;AAAA,MAATK,MAAS;;AAChE,MAAKA,MAAM,CAACC,IAAP,KAAgB,gBAArB,EAAwC;AACvC,WAAOD,MAAM,CAACU,UAAP,IAAqB,EAA5B;AACA;;AAED,SAAOX,KAAP;AACA;;eAEc,2BAAiB;AAC/BD,EAAAA,UAAU,EAAVA,UAD+B;AAE/BS,EAAAA,gBAAgB,EAAhBA,gBAF+B;AAG/BC,EAAAA,yBAAyB,EAAzBA,yBAH+B;AAI/BC,EAAAA,6BAA6B,EAA7BA,6BAJ+B;AAK/BC,EAAAA,UAAU,EAAVA;AAL+B,CAAjB,C","sourcesContent":["/**\n * External dependencies\n */\nimport { keyBy, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Module Constants\n */\nexport const DEFAULT_CATEGORIES = [\n\t{ slug: 'common', title: __( 'Common Blocks' ) },\n\t{ slug: 'formatting', title: __( 'Formatting' ) },\n\t{ slug: 'layout', title: __( 'Layout Elements' ) },\n\t{ slug: 'widgets', title: __( 'Widgets' ) },\n\t{ slug: 'embed', title: __( 'Embeds' ) },\n\t{ slug: 'reusable', title: __( 'Reusable Blocks' ) },\n];\n\n/**\n * Reducer managing the block types\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function blockTypes( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_BLOCK_TYPES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...keyBy( action.blockTypes, 'name' ),\n\t\t\t};\n\t\tcase 'REMOVE_BLOCK_TYPES':\n\t\t\treturn omit( state, action.names );\n\t}\n\n\treturn state;\n}\n\n/**\n * Higher-order Reducer creating a reducer keeping track of given block name.\n *\n * @param {string} setActionType  Action type.\n *\n * @return {function} Reducer.\n */\nexport function createBlockNameSetterReducer( setActionType ) {\n\treturn ( state = null, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'REMOVE_BLOCK_TYPES':\n\t\t\t\tif ( action.names.indexOf( state ) !== -1 ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn state;\n\n\t\t\tcase setActionType:\n\t\t\t\treturn action.name || null;\n\t\t}\n\n\t\treturn state;\n\t};\n}\n\nexport const defaultBlockName = createBlockNameSetterReducer( 'SET_DEFAULT_BLOCK_NAME' );\n\nexport const freeformFallbackBlockName = createBlockNameSetterReducer( 'SET_FREEFORM_FALLBACK_BLOCK_NAME' );\nexport const unregisteredFallbackBlockName = createBlockNameSetterReducer( 'SET_UNREGISTERED_FALLBACK_BLOCK_NAME' );\n\n/**\n * Reducer managing the categories\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function categories( state = DEFAULT_CATEGORIES, action ) {\n\tif ( action.type === 'SET_CATEGORIES' ) {\n\t\treturn action.categories || [];\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblockTypes,\n\tdefaultBlockName,\n\tfreeformFallbackBlockName,\n\tunregisteredFallbackBlockName,\n\tcategories,\n} );\n"]}