{"version":3,"sources":["/Users/ky/Sites/valet/copesacontent/web/app/plugins/gutenberg/packages/rich-text/src/insert-line-separator.js"],"names":["insertLineSeparator","value","startIndex","start","endIndex","end","beforeText","slice","previousLineSeparatorIndex","lastIndexOf","LINE_SEPARATOR","formats","valueToInsert","text"],"mappings":";;;;;;;AAIA;;AACA;;AACA;;AANA;;;;AAQA;;;;;;;;;;;AAWO,SAASA,mBAAT,CACNC,KADM,EAIL;AAAA,MAFDC,UAEC,uEAFYD,KAAK,CAACE,KAElB;AAAA,MADDC,QACC,uEADUH,KAAK,CAACI,GAChB;AACD,MAAMC,UAAU,GAAG,oCAAgBL,KAAhB,EAAwBM,KAAxB,CAA+B,CAA/B,EAAkCL,UAAlC,CAAnB;AACA,MAAMM,0BAA0B,GAAGF,UAAU,CAACG,WAAX,CAAwBC,iCAAxB,CAAnC;AACA,MAAIC,OAAO,GAAG,GAAd;;AAEA,MAAKH,0BAA0B,KAAK,CAAC,CAArC,EAAyC;AACxCG,IAAAA,OAAO,GAAG,CAAEV,KAAK,CAACU,OAAN,CAAeH,0BAAf,CAAF,CAAV;AACA;;AAED,MAAMI,aAAa,GAAG;AACrBD,IAAAA,OAAO,EAAPA,OADqB;AAErBE,IAAAA,IAAI,EAAEH;AAFe,GAAtB;AAKA,SAAO,oBAAQT,KAAR,EAAeW,aAAf,EAA8BV,UAA9B,EAA0CE,QAA1C,CAAP;AACA","sourcesContent":["/**\n * Internal dependencies\n */\n\nimport { getTextContent } from './get-text-content';\nimport { insert } from './insert';\nimport { LINE_SEPARATOR } from './special-characters';\n\n/**\n * Insert a line break character into a Rich Text value at the given\n * `startIndex`. Any content between `startIndex` and `endIndex` will be\n * removed. Indices are retrieved from the selection if none are provided.\n *\n * @param {Object} value         Value to modify.\n * @param {number} startIndex    Start index.\n * @param {number} endIndex      End index.\n *\n * @return {Object} A new value with the value inserted.\n */\nexport function insertLineSeparator(\n\tvalue,\n\tstartIndex = value.start,\n\tendIndex = value.end,\n) {\n\tconst beforeText = getTextContent( value ).slice( 0, startIndex );\n\tconst previousLineSeparatorIndex = beforeText.lastIndexOf( LINE_SEPARATOR );\n\tlet formats = [ , ];\n\n\tif ( previousLineSeparatorIndex !== -1 ) {\n\t\tformats = [ value.formats[ previousLineSeparatorIndex ] ];\n\t}\n\n\tconst valueToInsert = {\n\t\tformats,\n\t\ttext: LINE_SEPARATOR,\n\t};\n\n\treturn insert( value, valueToInsert, startIndex, endIndex );\n}\n"]}